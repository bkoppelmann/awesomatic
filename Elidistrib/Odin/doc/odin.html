<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"
           "http://www.w3.org/TR/REC-html40/loose.dtd">
<html xmlns:o="urn:schemas-microsoft-com:office:office"
xmlns:w="urn:schemas-microsoft-com:office:word"
xmlns="http://www.w3.org/TR/REC-html40">

<head>
<meta http-equiv=Content-Type content="text/html; charset=us-ascii">
<meta name=ProgId content=Word.Document>
<meta name=Generator content="Microsoft Word 9">
<meta name=Originator content="Microsoft Word 9">
<link rel=File-List href="./odin_files/filelist.xml">
<title> THE ODIN SYSTEM\ \vspace{.5in} REFERENCE MANUAL </title>
<!--[if gte mso 9]><xml>
 <o:DocumentProperties>
  <o:Author>Geoffrey Clemm</o:Author>
  <o:LastAuthor>Geoffrey Clemm</o:LastAuthor>
  <o:Revision>5</o:Revision>
  <o:TotalTime>7</o:TotalTime>
  <o:Created>2003-04-05T18:03:00Z</o:Created>
  <o:LastSaved>2003-04-05T18:10:00Z</o:LastSaved>
  <o:Pages>34</o:Pages>
  <o:Words>13240</o:Words>
  <o:Characters>75473</o:Characters>
  <o:Company>Rational</o:Company>
  <o:Lines>628</o:Lines>
  <o:Paragraphs>150</o:Paragraphs>
  <o:CharactersWithSpaces>92686</o:CharactersWithSpaces>
  <o:Version>9.3821</o:Version>
 </o:DocumentProperties>
</xml><![endif]--><!--[if gte mso 9]><xml>
 <w:WordDocument>
  <w:Zoom>120</w:Zoom>
 </w:WordDocument>
</xml><![endif]-->
<style>
<!--
span.OVERACC2
	{left:.8em;
	position:relative;
	top:-1.2ex;}
span.OVERACC1
	{left:.6em;
	position:relative;
	top:-1.2ex;}
 /* Font Definitions */
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;
	mso-font-charset:0;
	mso-generic-font-family:swiss;
	mso-font-pitch:variable;
	mso-font-signature:553679495 -2147483648 8 0 66047 0;}
 /* Style Definitions */
p.MsoNormal, li.MsoNormal, div.MsoNormal
	{mso-style-parent:"";
	margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	font-size:12.0pt;
	font-family:"Times New Roman";
	mso-fareast-font-family:"Times New Roman";}
p.MsoDocumentMap, li.MsoDocumentMap, div.MsoDocumentMap
	{margin:0in;
	margin-bottom:.0001pt;
	mso-pagination:widow-orphan;
	background:navy;
	font-size:12.0pt;
	font-family:Tahoma;
	mso-fareast-font-family:"Times New Roman";}
pre
	{margin:0in;
	margin-bottom:.0001pt;
	font-size:10.0pt;
	font-family:"Courier New";
	mso-fareast-font-family:"Courier New";}
tt
	{mso-ascii-font-family:"Courier New";
	mso-fareast-font-family:"Courier New";
	mso-hansi-font-family:"Courier New";
	mso-bidi-font-family:"Courier New";}
span.roman
	{mso-style-name:roman;
	mso-ascii-font-family:"Times New Roman";
	mso-hansi-font-family:"Times New Roman";
	mso-bidi-font-family:"Times New Roman";
	font-weight:normal;
	font-style:normal;}
@page Section1
	{size:8.5in 11.0in;
	margin:1.0in 1.25in 1.0in 1.25in;
	mso-header-margin:.5in;
	mso-footer-margin:.5in;
	mso-paper-source:0;}
div.Section1
	{page:Section1;}
-->
</style>
</head>

<body lang=EN-US link=blue vlink=blue style='tab-interval:.5in'>

<div class=Section1>

<h1 align=center style='text-align:center'>THE ODIN SYSTEM<br>
<br>
<br>
<br>
REFERENCE MANUAL </h1>

<h3 align=center style='text-align:center'>Geoffrey M. Clemm </h3>

<h3 align=center style='text-align:center'>*** Odin Version 1.17 ***<br>
The Odin System is a simpler, more powerful, and more reliable replacement for
Make. It computes complete dependency information automatically, making the
build scripts shorter and easier to manage. Odin gains efficiency by parallel
builds on remote machines, by eliminating most of the file system status
queries required by Make, and by sharing from a cache of previously computed
derived files. </h3>

<h1 style='margin-top:7.0pt'><a name="tth_chAp1">Chapter 1 </a><br>
Introduction</h1>

<h2 style='margin-top:7.0pt'><a name="tth_sEc1.1"></a><a name=intro></a><span
style='mso-bookmark:"tth_sEc1\.1"'>1.1</span>&nbsp;&nbsp;Derived Object
Managers</h2>

<p class=MsoNormal style='margin-top:7.0pt'>A software environment can be
simplified if the user's attention is focused on the information provided by
the environment rather than the tools that create this information. A <em>derived
object manager</em> provides this focus by automating the process of tool
invocation. A derived object manager responds to a request for a piece of
computed information, or <em>derived object</em>, by invoking the minimal
number of tools necessary to produce that object. If the object manager
automatically stores previously computed objects for later re-use, significant
improvements in response time can be achieved. </p>

<p class=MsoNormal style='margin-top:7.0pt'>In an extensible environment, the
kinds of information potentially provided are extended by adding new tools that
manipulate and generate new kinds of information. A few examples of the kind of
information in a software environment are program source text, test data,
modification histories, attributed syntax trees, compiled object code, data
flow analysis, and results of symbolic execution. </p>

<p class=MsoNormal style='margin-top:7.0pt'>A derived object manager must
provide a language with which a user or a tool can name any desired object, and
a specification language for describing the kinds of objects to be managed and
the tools that produce them. In the Odin system, derived objects are named by <em>odin-expressions</em>,
and the specification language is an extended production system called a <em>derivation
graph</em> in which each tool is described by a single declaration. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc1.2">1.2</a>&nbsp;&nbsp;Odin
Objects</h2>

<p class=MsoNormal style='margin-top:7.0pt'>Each Odin object is a <em>file</em>,
a <em>string</em>, or a <em>list</em> (an ordered sequence of objects). An
example of a file is a file containing source code, an executable binary file,
or an output file from a test run. An example of a string is a command flag. An
example of a list is the source files of a program or the arguments to a
command. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.2.1">1.2.1</a>&nbsp;&nbsp;Source
and Derived Objects</h3>

<p class=MsoNormal style='margin-top:7.0pt'>Source objects are files that can
be created or modified directly by the user. They can be regular files,
directories, or symbolic links. Source objects cannot be automatically
recreated by the Odin system, but are the basic building blocks from which the
Odin system creates all other objects. Every source object is given a type by
the Odin system based on its host filename, and this type determines what
derived objects can be produced from the source object. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Derived objects are objects that
can be produced from source objects and other derived objects through the
invocation of one or more tools. Tools are invoked only as needed to create a
specified derived object. The Odin system automatically saves objects from
previous requests, so a given object might already exist and therefore be
available immediately. Derived objects are created and modified only by the
Odin system itself, not by users. Examples of objects that can be derived from
source code are a cross-reference listing, executable binary code, or the list
of files referenced by <tt><span style='font-size:10.0pt;font-family:"Courier New"'>#include</span></tt>
statements. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.2.2">1.2.2</a>&nbsp;&nbsp;The
Derived Object Cache</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=cache></a>In the Odin
system, all derived objects are stored in a directory called the <em>derived
object cache</em>, or simply the <em>cache</em>. The cache also contains the
database that stores the <em>depends</em> relationship between the output and
input files of a tool run, and the <em>contains</em> relationship between a
list and its elements. </p>

<p class=MsoNormal style='margin-top:7.0pt'>All host files other than those in
the cache are source objects. A derived object can be copied from the cache
into a source directory, but this does <em>not</em> make the file in the source
directory a derived object - it just creates a source object that happens to
have the same contents as the derived object. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The default location for the cache
is a directory named <tt><span style='font-size:10.0pt;font-family:"Courier New"'>.ODIN</span></tt>
in the user's home directory. A non-default cache location can be specified in
the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>$ODIN</span></tt>
environment variable, or with the <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>-c</span></tt> option to the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>odin</span></tt> host-command. The main reasons for
specifying a non-default location for the cache are to share a common cache
with other users, or to locate the cache on a local disk for more efficient
access to derived files. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The default name for a file in the
cache is <tt><span style='font-size:10.0pt;font-family:"Courier New"'>label.id.type</span></tt>,
where <tt><span style='font-size:10.0pt;font-family:"Courier New"'>label</span></tt>
and <tt><span style='font-size:10.0pt;font-family:"Courier New"'>id</span></tt>
are the results of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:label</span></tt>
and <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:id</span></tt>
derivations (see Section&nbsp;), and where <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>type</span></tt> is the type of the file. If this
filename is too long for your operating system, set the environment variable
$ODIN_SHORTNAMES and a file in the cache will be named simply <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>id.type</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The default inter-process
communication mechanism for the odin cache manager process is TCP/IP. If TCP/IP
is not available, set the environment variable $ODIN_LOCALIPC and Unix domain
sockets will be used instead. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc1.3">1.3</a>&nbsp;&nbsp;Why Not
Just Use Make?</h2>

<p class=MsoNormal style='margin-top:7.0pt'>The most ubiquitous build manager
is Stu Feldman's Make program, with its many descendents. Although ideal for
small projects, Make has two major problems when used for large or complex
projects: inaccurate dependency information and poor support for variant builds
(such as builds for different architectures or builds with different levels of
compiler optimization). Inaccurate dependency information leads to inefficient
builds when unnecessary recomputations are performed and, more seriously,
incorrect builds when necessary recomputations are not performed. Poor support
for variant builds consists primarily of problems with specifying the variants
and with storing the intermediate files for the variants. An indication of the
difficulty of specifying a complex build variant is that often the only way to
find out what a given build description means is to run Make and see what kind
of commands it executes. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.1">1.3.1</a>&nbsp;&nbsp;Dependency
Information</h3>

<p class=MsoNormal style='margin-top:7.0pt'>Inaccurate dependency information
results from a variety of causes. If the user maintains the dependency
information by hand, it is virtually guaranteed to be incorrect. A
&quot;make-depend&quot; tool can automate the production of dependency
information, but because of the expense of running such a tool on an entire
system, it is usually not automatically invoked before each build, again
leading to builds based on incorrect dependency information. If a separate
dependency file is created for each source file to allow incremental dependency
computation, it becomes feasible to automatically compute dependency
information before each build. Unfortunately, the source directories then
become cluttered with dependency information files, and the overhead of opening
and reading all the dependency information files becomes excessive. </p>

<p class=MsoNormal style='margin-top:7.0pt'>In Odin, tools that automatically
gather dependency information are as easy to describe as standard tools like
compilers, and Odin takes care of running them incrementally when they are
needed. The results of these tools are stored in a persistent database rather
than in the user's Makefiles, so that this information can be retrieved
efficiently and does not clutter up source directories. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Other dependency problems stem from
Make's use of file modification time ordering to determine whether a file is
up-to-date. Network clock inconsistencies and the use of tools that restore
files with their original modification dates can result in changed sources
files whose modification dates are less than those of derived files that depend
on them. In Odin, this problem is avoided by storing the date stamps of the
inputs to a build step in the dependency database, so that any change to the
modification time of a file (either earlier or later) triggers a re-build. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The use of file modification time
ordering can also result in inefficient builds when a change to a source file
does not result in a corresponding change to an intermediate derived file. For
example, adding a comment to a source file will usually not change the result
of compiling that file, which means that there is no reason to relink the
unchanged object code to form a new executable. Odin avoids this inefficiency
by re-running a tool only if the <em>value</em> of one of its inputs has
changed. In particular, this allows Odin to build directly from an RCS <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>xxx,v</span></tt> or an SCCS
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>s.xxx</span></tt>
file, without first checking out a version into a source directory (the
check-out operation is just a tool like any other tool). This is not feasible
in Make because every time a new version is added to the version control file,
it would assume everything derived from <em>any</em> version of that file must
be recomputed. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.2">1.3.2</a>&nbsp;&nbsp;Specifying
Build Variants</h3>

<p class=MsoNormal style='margin-top:7.0pt'>In Make, a derived file variant is
specified by changing the values of the appropriate Make variables. For
example, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>CC</span></tt>
variable can be changed to build with a different C compiler, and the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>CCFLAGS</span></tt> variable
can be changed to build with different C compiler flags. Unfortunately, the
scope of a variable is the entire Makefile, while a build variant often
involves different variable values for different intermediate files (for
example, most of the files are to be compiled with debugging on, except for
certain files containing time critical routines which are to be compiled with
optimization on). To work around this problem, in Make you have to introduce a
special build rule for each intermediate file build variant. </p>

<p class=MsoNormal style='margin-top:7.0pt'>In Odin, a filename can be extended
by an arbitrary number of build <em>parameters</em>, that are then used by Odin
to customize the way that file is processed in any build step that refers to
it. For example, </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +debug</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>indicates that the debug flag should be set whenever <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c</span></tt> is used
in a build step, while </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>io.c +optimize=2</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>indicates that optimization level 2 should be set whenever <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>io.c</span></tt> is used in
a build step. If the parameterized filename refers to a list of other files,
the parameters are inherited by each of the referenced files. Because of the
controlled scoping provided by Odin parameters and the expressive power of Odin
implicit build rules, explicit build rules are hardly ever needed in an
Odinfile. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.3">1.3.3</a>&nbsp;&nbsp;Storing
Derived File Variants</h3>

<p class=MsoNormal style='margin-top:7.0pt'>Make usually stores a derived file
in the directory containing the source file from which it is derived, since
this allows other builds that reference the source file to reuse that derived
file. The main disadvantage of this approach is that only one variant of a
given derived file can exist at a given time. The build manager can easily
mistake which version is currently in the directory, leading to an incorrect
build. Other disadvantages are that a user must have write permission to the
source directories in order to re-build derived files, a user can mistakenly
delete a source file thinking it is a derived file, and a user can mistakenly
edit a derived file thinking it is a source file. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The usual approach to this problem
is to have the user explicitly allocate different directories to contain the
results of different variant builds. Unfortunately, this makes it difficult for
build sharing to take place, and unless the version of Make has been extended
to write out the variable values used for the builds in a given directory, it
is easy to get incorrect builds if different variable values are used for
builds in the same directory. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Another approach to this problem
used in Rational's ClearMake consists of introducing a proprietary <em>multi-version
file system</em>. Every file opened for reading during the build and every
variable value is tracked by the system, and if the same set of files with the
same variables are present in a later build request, the previously computed
results of the build are re-used. Even this approach, though, requires that the
user explicitly manage variant derived file locations if concurrent variant
builds of files local to a view are desired. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The alternative approach used by
Odin that does not require replacing the native Unix file system is to use a
derived file cache. In effect, the file namespace is extended to provide names
for every derived file variant. For example, </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>/usr/src/prog.c :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>is the executable computed by compiling and linking <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>/usr/src/prog.c</span></tt>,
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>/usr/src/prog.c +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>is the executable with debugging information, and </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>/usr/src/prog.c +optimize=2 :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>is the executable compiled with level-2 optimization. These
extended names are parsed by the Odin interpreter, which either maps the name
to a source file or to the correct derived file in the derived file cache. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.4">1.3.4</a>&nbsp;&nbsp;Parallel
Builds</h3>

<p class=MsoNormal>Odin provides concurrent parallel builds on local and remote
hosts. You just specify a list of build hosts and the maximum number of
parallel builds. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.5">1.3.5</a>&nbsp;&nbsp;Help</h3>

<p class=MsoNormal>Odin provides a powerful help system that uses its knowledge
of the currently installed set of implicit rules (including those added by the
local site administrator and an individual user). In particular, it can tell
you what kinds of file extensions are currently recognized, what kinds of files
can be derived from a specific type of file, and what parameters can be
specified to produce a variant of a given derived file. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.6">1.3.6</a>&nbsp;&nbsp;Errors</h3>

<p class=MsoNormal>Odin maintains a persistent database of all error and
warning messages associated with each build step. You can request a summary
report of all errors and/or warnings associated with all the build steps of a
particular derived object. For derived object variants, any valid error
information from other variants is reused from the database rather than
recomputed. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.7">1.3.7</a>&nbsp;&nbsp;Operations
on Lists</h3>

<p class=MsoNormal>Enhanced versions of Make each provide their own
idiosyncratic set of operations for manipulating filenames and lists of
filenames. In Odin, these operations are performed by arbitrary Unix tools -
this is feasible because Odin caches the results of these tools in the
dependency database. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.8">1.3.8</a>&nbsp;&nbsp;Editing
while Building</h3>

<p class=MsoNormal>You can edit files that are currently being used for one or
more builds, and Odin will automatically recognize the changes and redo the
parts of the builds that are affected by the changes, before letting the builds
complete. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.9">1.3.9</a>&nbsp;&nbsp;Recursive
Implicit Rules</h3>

<p class=MsoNormal>Odin allows you to recursively chain implicit rules, so for
example, you can specify that the files included by a file are the files
directly included by the file plus the files included by the files included by
the file. Even enhanced versions of Make that do support chaining of implicit
rules do not allow recursive chaining. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.10">1.3.10</a>&nbsp;&nbsp;Circular
Dependencies</h3>

<p class=MsoNormal>Odin allows a file to depend on itself. This may seem
unreasonable until you start writing tools that generate code, and you find
that it would be very useful to have the tool generate part of itself. In this
situation, Odin will terminate the computation when the tool produces a file
that is identical to the one used as input to the computation (i.e., when the
computation reaches a <em>fixed-point</em>). </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.11">1.3.11</a>&nbsp;&nbsp;Efficient
Dependency Computation</h3>

<p class=MsoNormal>In very large systems, even when a desired derived file is
up-to-date, simply <tt><span style='font-size:10.0pt;font-family:"Courier New"'>fstat()</span></tt>'ing
all the source files upon which it depends can take Make several minutes. Since
Odin can broadcast file change information in its dependency database,
dependency computation can be made proportional to the number of file
dependencies that have <em>changed</em> rather than the total number of file
dependencies. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.12">1.3.12</a>&nbsp;&nbsp;Tool
Dependencies</h3>

<p class=MsoNormal>Build steps automatically depend on the tools and scripts
that produce them, so if you change a tool, Odin will recompute anything
produced by that tool the next time you request a build. If the tool change did
not affect a particular run of that tool, the recomputation is short-circuited,
and the rest of the derived files that depend on that output of the tool are
marked as still being valid. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc1.3.13">1.3.13</a>&nbsp;&nbsp;Availability</h3>

<p class=MsoNormal>Finally, Odin is portable, free, and available in source
form. It can be retrieved via anonymous ftp from the compressed tar formatted
file <tt><span style='font-size:10.0pt;font-family:"Courier New"'>distribs/odin/odin.tar.Z</span></tt>
at <tt><span style='font-size:10.0pt;font-family:"Courier New"'>ftp.cs.colorado.edu
(128.138.243.151)</span></tt>. </p>

<h1 style='margin-top:7.0pt'><a name="tth_chAp2">Chapter 2 </a><br>
The Odinfile</h1>

<h2 style='margin-top:7.0pt'><a name="tth_sEc2.1"></a><a name=odinfile></a><span
style='mso-bookmark:"tth_sEc2\.1"'>2.1</span>&nbsp;&nbsp;Targets</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=target></a>A build <em>target</em>
in a directory is a source file whose value is computed by the derived object
manager. Just as Make uses a file named <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>Makefile</span></tt> to specify targets for a
directory, Odin uses a file named <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>Odinfile</span></tt>. When the host-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>odin prog</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>is executed, Odin checks to see if <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog</span></tt> is a target
in <tt><span style='font-size:10.0pt;font-family:"Courier New"'>./Odinfile</span></tt>.
If it is a target, but is not up-to-date, Odin invokes whatever tools are
necessary to bring it up-to-date. Odin automatically looks in all directories
that contain the input files for these tools, and if there is an <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt> that
contains a target for an input file, Odin ensures that the input file is
up-to-date before using it. </p>

<p class=MsoNormal style='margin-top:7.0pt'>A target definition in an <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
consists of a filename followed by two equal-signs and an <em>odin-expression</em>.
For example, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog == prog.c +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that the value of the source file <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog</span></tt> should
always be equal to the value of the file specified by the odin-expression <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c+debug:exe</span></tt>.
</p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc2.2">2.2</a>&nbsp;&nbsp;Odin-Expressions</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=odinexpr></a>Just as any
source file can be named with a source filename, any derived file can be named
with an <em>odin-expression</em>. An odin-expression is just like a source
filename, except that in addition to the slash operator used in source
filenames for selecting elements of directories, there is a plus-sign operator
for adding parameters to an object and a colon operator for selecting a
derivation from an object. For example, in the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/prog.c+debug:exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal><tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c</span></tt>
is selected from the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>src</span></tt>
directory, the parameter <tt><span style='font-size:10.0pt;font-family:"Courier New"'>+debug</span></tt>
is associated with <tt><span style='font-size:10.0pt;font-family:"Courier New"'>src/prog.c</span></tt>,
and the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:exe</span></tt>
(i.e. executable binary) derivation is selected from <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>src/prog.c+debug</span></tt>.
</p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc2.2.1">2.2.1</a>&nbsp;&nbsp;Lexical
Conventions</h3>

<p class=MsoNormal style='margin-top:7.0pt'>Lexically, an odin-expression is
composed of a sequence of <em>identifier</em> and <em>operator</em> tokens, and
is terminated by a new-line character. An odin-expression can be continued on
multiple lines by escaping each new-line character with a backslash. This
backslash (but not the new-line) is deleted before the expression is parsed.
Multiple odin-expressions can be specified on the same line by separating them
with semi-colon operators. </p>

<p class=MsoNormal style='margin-top:7.0pt'>An identifier token is just a
sequence of characters. The following characters: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>: + = ( ) / % ; ? $ &lt; &gt; ! &lt;space&gt; &lt;tab&gt; &lt;new-line&gt; # \ ' </pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>must be escaped to be included in an identifier. A single
character can be escaped by preceding it with a backslash (e.g. <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>lost\+found</span></tt>). A
sequence of characters can be escaped by enclosing them in single quote marks
(e.g. <tt><span style='font-size:10.0pt;font-family:"Courier New"'>'lost+found'</span></tt>).
</p>

<p class=MsoNormal style='margin-top:7.0pt'>Unescaped <em>whitespace</em>
characters (spaces, tabs, and new-lines) are ignored during parsing except when
they separate adjacent identifiers. A comment is indicated by a sharp and is
terminated by a new-line character. For example, the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span># this is a comment</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>is a comment and is equivalent to whitespace. </p>

<p class=MsoNormal style='margin-top:7.0pt'>An odin-expression can be
surrounded by parentheses. Parentheses are required for nested odin-expressions
(such as values of parameters) or for the empty expression <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>()</span></tt> which
represents an immutable empty file. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc2.2.2">2.2.2</a>&nbsp;&nbsp;Selection
Expressions</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=selection></a>A selection
expression, indicated by the slash operator, selects a file from a directory.
The argument to the slash operator is the <em>key</em> of the desired file. For
example, the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/prog.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>selects <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c</span></tt>
from the directory <tt><span style='font-size:10.0pt;font-family:"Courier New"'>src</span></tt>.
(The careful reader will note that an odin-expression composed entirely of
selection expressions bears an uncanny resemblance to a standard Unix
filename.) Any special character in the key must be escaped. For example, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c++</span></tt> must be
escaped, as in <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c\+\+</span></tt>
or <tt><span style='font-size:10.0pt;font-family:"Courier New"'>'prog.c++'</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>Odin splits each key into two
parts: a <em>root</em> and a <em>type-name</em>. The type-name is the longest
prefix of the key that matches one of the declared source types prefixes (see
Section&nbsp;). If no prefix match is found, the type-name is the longest
suffix of the key that matches one of the declared source type suffixes. If no
suffix match is found, the type-name is the empty string. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Assuming that <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>s.</span></tt> is the only
declared source type prefix and <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>.c</span></tt> is the only declared source type suffix, then the
following relationships hold: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>FILENAME<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>KEY<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>ROOT<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>TYPE-NAME</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/prog.c<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>prog.c<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>prog<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/s.prog.c<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>s.prog.c<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>prog.c<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>s.</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/prog<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>prog<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>prog </pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The type-name is used to determine the object type of the
file (see Section&nbsp;), and the root is used to determine the object type of
generic objects derived from the file (see Section&nbsp;). </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc2.2.3">2.2.3</a>&nbsp;&nbsp;Derivation
Expressions</h3>

<p class=MsoNormal style='margin-top:7.0pt'>A derivation expression, indicated
by the colon operator, is used to specify a derived object. The argument to the
colon operator is an <em>object type</em> that has been declared in one of the
tool packages (see Section&nbsp;). For example, the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>names a formatted version of <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>prog.c</span></tt>, and the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>names the result of compiling and linking the formatted
version of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>A derived object can be a
directory, in which case it is called a <em>derived directory</em>. Elements of
a derived directory are selected with the same slash operator used to select
elements of source directories. For example, if <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>src/prog.c:output</span></tt> is a derived
directory containing the output files from a test run of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c</span></tt>, and this
directory contains three files named <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>DATA</span></tt>, <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>source.listing</span></tt>, and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>source.errors</span></tt>,
then these three files are named by the odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/prog.c:output/DATA</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/prog.c:output/source.listing</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/prog.c:output/source.errors</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>An element of a derived directory cannot be another
directory, although it can be a symbolic link to another directory. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc2.2.4">2.2.4</a>&nbsp;&nbsp;Parameterization
Expressions</h3>

<p class=MsoNormal style='margin-top:7.0pt'>A parameterization expression,
indicated by the plus-sign operator, extends an object with additional
information that affects the derived objects produced from that object. The
argument to the plus-sign operator is a <em>parameter type</em> (see
Section&nbsp;), optionally followed by an equal-sign operator and a sequence of
one or more identifiers and parenthesized object-expressions. The identifiers
specify string objects. For example, in the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=(support.c.sm +debug :a) +lib=termcap</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>the value of the first <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>+lib</span></tt> parameter is the object <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>support.c.sm+debug:a</span></tt>
and the value of the second <tt><span style='font-size:10.0pt;font-family:"Courier New"'>+lib</span></tt>
parameter is the string <tt><span style='font-size:10.0pt;font-family:"Courier New"'>termcap</span></tt>.
An example of an odin-expression with a parameter value that is a sequence is: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=dbm (support.c.sm +debug :a) socket</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>which specifies that the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>+lib</span></tt> parameter has a value that is a
sequence consisting of the string <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>dbm</span></tt>, the object <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>support.c.sm+debug:a</span></tt> and the string <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>socket</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the parameter value is omitted,
it is equivalent to specifying the identifier consisting of a single space <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>' '</span></tt> as the
value. For example, the following two odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +debug</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +debug=' '</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are equivalent. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The parameter values of a given
parameter type in an odin-expression form an ordered set, where the order of
the values is the order specified in the odin-expression. Therefore, the
odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=dbm +lib=socket :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=socket +lib=dbm :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are not equivalent. If multiple copies of the same parameter
value appear, only the first of the multiple copies is kept. For example, the
odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=socket +lib=dbm +lib=socket :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=socket +lib=dbm :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are equivalent. If a parameter has a value that is a
sequence, that value is only considered the same as another identical sequence.
For example, the odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=socket dbm +lib=socket :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=socket +lib=dbm :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are not equivalent, while the odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=socket dbm +lib=socket +lib=socket dbm :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +lib=socket dbm +lib=socket :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are equivalent. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The parameter value lists of each
parameter type are disjoint, therefore, the order of parameters of different
types is not significant. For example, the odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +debug +profile :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +profile +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are equivalent. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Parameters of a list object are
inherited by all the elements of the list. For example, if the odin-expression:
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c.sm :list</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>named a list whose elements were <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>main.c</span></tt> and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>subrs.c</span></tt>, then
the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c.sm :list +debug</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>associates the <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>+debug</span></tt> parameter with <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>main.c</span></tt> and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>subrs.c</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Parameters are not inherited
forward or backward through derivations. Therefore, in the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +debug :o +optimize=2 :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:o</span></tt>
derivation has debugging, but no optimization, while the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:exe</span></tt> derivation
has optimization, but no debugging. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Frequently, several
odin-expressions share a common set of parameters. To support this kind of
sharing, a parameterization expression can take the form of a plus-sign
followed by a parenthesized object-expression. The common set of parameters are
then stored in the file named by the object-expression. For example, if the
file <tt><span style='font-size:10.0pt;font-family:"Courier New"'>my.prms</span></tt>
contained the text: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>+debug +lib_sp=(/local/lib) +lib=socket +lib=dbm +gnu</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>then the odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +(my.prms) :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +debug +lib_sp=(/local/lib) +lib=socket +lib=dbm +gnu :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>would be equivalent. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc2.2.5">2.2.5</a>&nbsp;&nbsp;String
Expressions</h3>

<p class=MsoNormal style='margin-top:7.0pt'>A string expression, indicated by
the equal-sign operator followed by an identifier, is used to specify arguments
to tools that are not filenames. For example, the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=cxv</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>names the string <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>cxv</span></tt>. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc2.3">2.3</a>&nbsp;&nbsp;Virtual
Targets</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=virtualtarget></a>In
addition to targets, an <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
can contain <em>virtual targets</em> that define a set of <em>virtual files</em>.
A virtual target is like a target, except that the value is not copied into a
host file, but is simply associated with the specified virtual filename.
Virtual files provide a mechanism for specifying aliases for complicated
odin-expressions, and a mechanism for specifying build-support files without
cluttering host directories. </p>

<p class=MsoNormal style='margin-top:7.0pt'>A virtual target definition is the
same as a target definition (see Section&nbsp;<a href="#target">2.1</a>),
except that the filename begins with an unescaped percent-sign. For example,
the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%prog == prog.c +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>binds the odin-expression <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog.c+debug:exe</span></tt> to the virtual filename
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The syntax for selecting a virtual
file from an <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
is identical to that for selecting a file from a directory, except that a
percent-sign is used instead of a slash. For example, the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/Odinfile%prog</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>selects the virtual file <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog</span></tt> from <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>src/Odinfile</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the directory name preceding the
percent-sign is omitted, the virtual file is selected from the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt> in the
current working directory. For example, the odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%prog</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>./Odinfile%prog</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are equivalent. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Although only a file named <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt> can
specify targets, any file can contain virtual targets. For example, if <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>src/models</span></tt> were
a host file containing the text: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%fastprog == prog.c +optimize=2 :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>then the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/models%fastprog</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>obtains the virtual target for <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>%fastprog</span></tt> from <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>src/models</span></tt>. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc2.4">2.4</a>&nbsp;&nbsp;Text
Targets</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=texttarget></a>The value of
a target can be specified directly as lines of text (a <em>here document</em>),
instead of as an odin-expression. In this case, the value declaration consists
of two left-angle-brackets optionally followed by an arbitrary tag identifier.
For example, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre>prog.c.sm == &lt;&lt; END</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>main.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>routines.c</pre><pre>END</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c.sm</span></tt>
to be a text target. The value of <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>prog.c.sm</span></tt> is then a file containing the text: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>main.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>routines.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>If the tag identifier is omitted,
the text value ends at the first line containing only whitespace characters.
For example, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre>prog.c.sm == &lt;&lt;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>main.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>routines.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>is equivalent to the previous definition. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the tag identifier begins with a
new-line character, the terminating tag identifier does not contain the leading
new-line character, and the last new-line character in the text value is
ignored. For example, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre>vowels == &lt;&lt; \\</pre><pre>TAG</pre><pre>aeiou</pre><pre>TAG</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>defines the contents of the file <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>vowels</span></tt> to be the five characters:
&quot;<tt><span style='font-size:10.0pt;font-family:"Courier New"'>aeiou</span></tt>&quot;.
</p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc2.4.1">2.4.1</a>&nbsp;&nbsp;Executable
Text Targets</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=executabletarget></a>Execute
permission can be set for a text target by specifying it to be an <em>executable
text target</em>. A text target is an executable text target if an
exclamation-point is specified immediately before the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>&lt;&lt;</span></tt>. For
example, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%backup == !&lt;&lt;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>backup_name=$1.back</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>mv $1 $backup_name</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>cp $backup_name $1</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>specifies <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>%backup</span></tt> to be an executable text target. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc2.5">2.5</a>&nbsp;&nbsp;Command
Targets</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=commandtarget></a>A target
is a <em>command target</em> if an exclamation-point is specified following the
filename. For example, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog ! == prog.c.sm +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>specifies <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>prog</span></tt> to be a command target. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Normally, when a filename is
specified as an argument to the <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>odin</span></tt> host-command, Odin simply ensures that the
value of the filename is up-to-date. If the filename is a command target, Odin
also executes the file after it is made up-to-date. For example, with the
preceding target definition for <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>prog</span></tt>, the host-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>odin prog</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>makes sure <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>prog</span></tt> is up-to-date with respect to <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c.sm+debug:exe</span></tt>,
and then executes it. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc2.6">2.6</a>&nbsp;&nbsp;Nested
Target Definitions</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=nestedtarget></a>A file
containing additional target definitions can be specified in a <em>nested
target definition</em>. A nested target definition consists of two equal-signs
followed by an odin-expression. A common use of nested target definitions is to
pre-process the text of the target definitions. For example, the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>
entries: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>== %nested :cpp</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%nested == &lt;&lt; EOF</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>#ifdef linux</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>prog == prog.c +gnu +debug :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>#else</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>prog == prog.c +debug :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>#endif</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EOF</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>specify that the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>+gnu</span></tt> parameter should be used on the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>linux</span></tt> platform. </p>

<h1 style='margin-top:7.0pt'><a name="tth_chAp3">Chapter 3 </a><br>
Getting Started</h1>

<p class=MsoNormal style='margin-top:7.0pt'>To get started using Odin, go to a
directory containing your favorite &quot;hello world&quot; program. </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>1% cd /u/fred</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>2% cat hello.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>main()</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>{ printf(&quot;Hello World.\n&quot;); return 0; }</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>Then create an <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>Odinfile</span></tt> containing the line <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>hello==hello.c:exe</span></tt>.
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>3% ls</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Odinfile<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>4% cat Odinfile</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello == hello.c :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>You are now ready to build <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>hello</span></tt>. Just say: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>5% odin hello</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>By default, Odin issues a message every time it invokes a
tool, for example: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>scan_for_includes hello.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>cc -c hello.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>cc hello.o</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>** Copying up-to-date value into /u/fred/hello</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The first tool scanned the source file for includes; the
second generated object code; the third generated an executable; and the fourth
copied the executable into the file named <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>/u/fred/hello</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>You have now built your first
executable with Odin. Now to test it: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%6 hello</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Hello World.</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<h2 style='margin-top:7.0pt'><a name="tth_sEc3.1">3.1</a>&nbsp;&nbsp;Systems
with Several Files</h2>

<p class=MsoNormal style='margin-top:7.0pt'>Interesting systems will usually
consist of more than one file. In Odin, you list the source files that make up
the system in a file called a <em>system model</em>. The files named in <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>#include</span></tt>
statements should not be listed in the system model - Odin will discover them
by running a tool that scans the source files looking for <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>#include</span></tt>
statements. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Modify <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>hello.c</span></tt> so that it calls a <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>print()</span></tt> routine
in the file <tt><span style='font-size:10.0pt;font-family:"Courier New"'>print.c</span></tt>.
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>7% ls</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Odinfile<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>hello.c<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>print.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>8% cat hello.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>main()</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>{ print(&quot;Hello &quot;); print(&quot;World.\n&quot;); return 0; }</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>9% cat print.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>print(s) char *s;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>{ printf(s); }</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>Now you need to create a system model, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>hello.c.sm</span></tt>, for
the new <tt><span style='font-size:10.0pt;font-family:"Courier New"'>hello</span></tt>
system. The system model can be a regular file, but it can equally well be
specifed as a <em>virtual file</em> in the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>Odinfile</span></tt>. </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>10% cat Odinfile</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello == %hello.c.sm :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%hello.c.sm == &lt;&lt; EOF</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>hello.c; print.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EOF</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The new version of <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>hello</span></tt> can now be built: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>11% odin hello</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>You will notice although the file <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>hello</span></tt> has
changed, no new files have appeared in the source directory. </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>12% ls</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Odinfile<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello.c<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>print.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>This is because all derived files are stored in the derived
file cache directory (<tt><span style='font-size:10.0pt;font-family:"Courier New"'>$HOME/.ODIN</span></tt>
by default - a non-default location can be specified in the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>$ODIN</span></tt>
environment variable). </p>

<p class=MsoNormal style='margin-top:7.0pt'>But the derived files are available
for re-use. For example, if you to add a comment to the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>print()</span></tt> routine:
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>13% cat print.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>/* print the character sequence s to standard output */</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>print(s) char *s;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>{ printf(s); }</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>and then ask Odin for <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>hello</span></tt> again: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>14% odin hello</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>you will notice a couple of things. First, the previous
results of scanning <tt><span style='font-size:10.0pt;font-family:"Courier New"'>hello.c</span></tt>
for includes and compiling it are both re-used, as you would expect. Somewhat
more surprising may be that Odin notices that the compilation of the modified <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>print.c</span></tt> produced
the same object code. Odin then skips the link phase since the old executable
is still valid. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc3.2">3.2</a>&nbsp;&nbsp;Files in
Other Directories</h2>

<p class=MsoNormal style='margin-top:7.0pt'>The files in a system model can be
in any directory, using either absolute or relative pathnames. Odin knows that <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>/u/fred/print.c</span></tt>
is potentially different from <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>/u/jane/print.c</span></tt> so will not be confused if you
switch from one to the other in your system model. </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>15% cat ../jane/print.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>print(s) char *s;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>{ printf(&quot;*%s*&quot;, s); }</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%16 cat Odinfile</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello == %hello.c.sm :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%hello.c.sm == &lt;&lt; EOF</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>hello.c; ../jane/print.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EOF</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%17 odin hello</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<h2 style='margin-top:7.0pt'><a name="tth_sEc3.3">3.3</a>&nbsp;&nbsp;Recursive
Odin Calls</h2>

<p class=MsoNormal style='margin-top:7.0pt'>Suppose that <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>/u/jane/print.c</span></tt>
is modified to include a <tt><span style='font-size:10.0pt;font-family:"Courier New"'>y.tab.h</span></tt>
file generated by the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>yacc</span></tt>
tool from a file named <tt><span style='font-size:10.0pt;font-family:"Courier New"'>print.y</span></tt>.
The fact that <tt><span style='font-size:10.0pt;font-family:"Courier New"'>y.tab.h</span></tt>
is generated from <tt><span style='font-size:10.0pt;font-family:"Courier New"'>print.y</span></tt>
is indicated in <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/u/jane/Odinfile</span></tt>.
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>18% ls ../jane</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Odinfile<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>print.c<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>print.y</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>19% cat ../jane/print.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>#include &quot;y.tab.h&quot;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>print(s) char *s;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>{ printf(&quot;*%s*&quot;, s); }</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>20% cat ../jane/Odinfile</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>y.tab.h == print.y :h</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>If you were using <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>make</span></tt>, you would have to somehow get <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>make ../jane</span></tt>
invoked before you tried to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>make
hello</span></tt>. In Odin, all these dependencies are computed for you, so a
simple <tt><span style='font-size:10.0pt;font-family:"Courier New"'>odin hello</span></tt>
is sufficient. </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>21% odin hello</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<h2 style='margin-top:7.0pt'><a name="tth_sEc3.4">3.4</a>&nbsp;&nbsp;Debugging
Your Program</h2>

<p class=MsoNormal style='margin-top:7.0pt'>Odin uses parameters instead of
tool flags to modify the behavior of tools. In particular, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>+debug</span></tt> adds
debugging information. Either the entry for <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>hello</span></tt> in the <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>Odinfile</span></tt> can be modified, or as
is done below, a second entry such as <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>test-hello</span></tt> can be added. </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>22% cat Odinfile</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello == %hello.c.sm :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>test-hello == %hello.c.sm +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%hello.c.sm == &lt;&lt; EOF</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>hello.c; print.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EOF</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>At this point, you can build <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>test-hello</span></tt> and run the debugger. </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>23% odin test-hello</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>24% dbx test-hello</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>These two steps can be combined by adding an executable <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>%dbx</span></tt> entry into
the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>Odinfile</span></tt>.
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>25% cat Odinfile</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>hello == %hello.c.sm :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>test-hello == %hello.c.sm +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%dbx ! == %hello.c.sm +debug :dbx</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>%hello.c.sm == &lt;&lt; EOF</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>hello.c; print.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EOF</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>Then the host-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>26% odin %dbx</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>would build an up-to-date executable from <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>%hello.c.sm</span></tt>,
build a script for executing dbx on this executable, and then because <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>%dbx</span></tt> is an
executable target, execute the script. </p>

<h1 style='margin-top:7.0pt'><a name="tth_chAp4">Chapter 4 </a><br>
Odin-Commands</h1>

<p class=MsoNormal style='margin-top:7.0pt'><a name=command></a>In addition to
being used as a means for making source files up-to-date, the Odin system can
also be used as a command interpreter for <em>odin-commands</em>. Odin-commands
are either given as arguments to the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>odin</span></tt> host-command, or, if the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>odin</span></tt>
host-command is invoked with no arguments, odin-commands are read interactively
from standard input. </p>

<p class=MsoNormal style='margin-top:7.0pt'>When Odin is used as an interactive
command interpreter, it first prints out a banner indicating the version of
Odin you are using, and then an arrow indicating it is ready to accept input.
You exit the Odin interpreter by typing an end-of-file, commonly the control-D
character. </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>1% odin</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Odin Version 1.17</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; ^D</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>2%</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>There are four kinds of
odin-commands: <em>query odin-commands</em>, <em>copy odin-commands</em>, <em>execute
odin-commands</em>, and <em>variable assignment odin-commands</em>. If the Odin
interpreter encounters a question-mark in an odin-command, it generates a help
message describing what could have been typed at the location of the
question-mark. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc4.1">4.1</a>&nbsp;&nbsp;Query
Odin-Commands</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=query></a>A <em>query
odin-command</em> consists simply of an odin-expression. A query odin-command
causes the Odin object named by the odin-expression to be brought up to date,
and reports information concerning the status of the object (such as error and
warning messages produced by tool steps that were run to produce the object). </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; print.c:exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>--- &lt;/u/fred/print.c :exe&gt; generated errors ---</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>ld: Undefined symbol </pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>_main </pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;</span>cc failed</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The level of detail of this information is controlled by the
value of the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>ErrLevel</span></tt>
and <tt><span style='font-size:10.0pt;font-family:"Courier New"'>WarnLevel</span></tt>
variables (see Section&nbsp;). </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.1.1">4.1.1</a>&nbsp;&nbsp;Status
of Odin Objects</h3>

<p class=MsoNormal style='margin-top:7.0pt'>Associated with each Odin object is
a status level, where the status level is one of <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>OK</span></tt>, <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>WARNING</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ERROR</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>CIRCULAR</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>NOFILE</span></tt>, and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ABORT</span></tt>. <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>OK</span></tt> is the
maximum status level and <tt><span style='font-size:10.0pt;font-family:"Courier New"'>ABORT</span></tt>
the minimum. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The status of a given derived
object depends on the results of the tools that produced that object. If any
tool generated warning messages, the status level of the given object is at
most <tt><span style='font-size:10.0pt;font-family:"Courier New"'>WARNING</span></tt>.
If any tool generated error messages, the status level of the given object is
at most <tt><span style='font-size:10.0pt;font-family:"Courier New"'>ERROR</span></tt>.
If an object that was needed to create the given object is the object itself,
the status level of the given object is at most <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>CIRCULAR</span></tt>. If any object that was
needed to generate the given object did not exist, the status level of the
given object is at most <tt><span style='font-size:10.0pt;font-family:"Courier New"'>NOFILE</span></tt>.
If any object that was needed to generate the given object had status level <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ERROR</span></tt> or less,
then the status level of the given object is set to be <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ABORT</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The status of a source object is <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>NOFILE</span></tt> if the
host file does not exist, the status of the value of its target value (see
Section&nbsp;<a href="#target">2.1</a>) if it is a target, and otherwise <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>OK</span></tt>. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.1.2">4.1.2</a>&nbsp;&nbsp;Error
and Warning Messages</h3>

<p class=MsoNormal style='margin-top:7.0pt'>The warning or error messages
produced by all tool invocations are saved by the Odin system. The difference
between an error and a warning is that an error prevents the tool from
generating its output, while a warning indicates that although output was
generated, it might be faulty. An example of an error message from a loader is:
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Unsatisfied external reference: &quot;proc1&quot;.</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>An example of a warning message from a loader is: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Multiply defined external: &quot;proc2&quot;, first copy loaded.</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>A text file containing a summary of
all error messages for an object can be obtained by applying the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:err</span></tt> derivation
to the object. For example, the file named by the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :exe :err</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>contains a summary of all error messages produced by any
tool used in the generation of the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog.c:exe</span></tt> object. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:warn</span></tt> derivation
produces a text file containing both warning and error messages for an object. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc4.2">4.2</a>&nbsp;&nbsp;Copy
Odin-Commands</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=copy></a>A <em>copy
odin-command</em> copies the contents of a specified Odin object into another
object (the destination object). The copy is performed only if the status level
of the specified object is no lower than <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>WARNING</span></tt>. The destination object must be
a source object since only source objects can be directly modified by a user. </p>

<p class=MsoNormal style='margin-top:7.0pt'>There are two forms of the copy
odin-command: <em>copy-to</em>, indicated by a right-angle-bracket, and <em>copy-from</em>,
indicated by a left-angle-bracket. Examples of these two odin-commands are: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c +debug :exe &gt; prog</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog &lt; prog.c +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>If the destination object is a
directory, the <em>label</em> of the specified object is used to name the new
copy. The label of a source file is the last component of the pathname of the
source file. The label of a derived object is <em>source-label.type-name</em>
where <em>type-name</em> is the name of the output type of the tool that
produced it (see Section&nbsp;). and where <em>source-label</em> is the label
of the source file from which it is derived. For example, the label of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>/usr/src/prog.c</span></tt>
is <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c</span></tt>
and the label of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/usr/src/prog.c:exe</span></tt>
is <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c.exe</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>If a list is copied into a
directory, each element of the list is copied individually into the directory. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.2.1">4.2.1</a>&nbsp;&nbsp;Copying
to Standard Output</h3>

<p class=MsoNormal style='margin-top:7.0pt'>If the destination object is
omitted from a copy-to odin-command, the specified object is displayed on the
current standard output device. For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c &gt;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>displays the file named <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog.c</span></tt>. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.2.2">4.2.2</a>&nbsp;&nbsp;Editing
with the Copy Odin-Command</h3>

<p class=MsoNormal style='margin-top:7.0pt'>If only the destination object is
specified in a copy-from odin-command, the specified object is given to the
host-system editor indicated by the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>$EDITOR</span></tt> environment variable, with the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>vi</span></tt> editor the
default. For example, if the value of the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>$EDITOR</span></tt> variable is <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>emacs</span></tt>, then the
odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c &lt;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>invokes the <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>emacs</span></tt> editor on the file <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>prog.c</span></tt>. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc4.3">4.3</a>&nbsp;&nbsp;Execute
Odin-Commands</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=execute></a>An <em>execute
odin-command</em> consists of an odin-expression followed by an
exclamation-point and a host-command line, where either the odin-expression or
the host-command can be omitted. Examples of execute odin-commands (with output
omitted) are: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c +debug :stdout !more -s</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; ! ls *.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c :exe !</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The result of the execute odin-command is to make the Odin
object up-to-date, append its filename to the host-command line, and give the
resulting extended host-command line to the host system for execution. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The exclamation-point has the
special lexical property that if the first non-whitespace character following
it is not a colon, a semi-colon, or an equal-sign, then the rest of the line is
treated as a single escaped sequence of characters. This avoids the confusion
resulting from interactions between host-command and Odin character escape
conventions. A leading colon, equal-sign, or whitespace character can be
included in the escaped sequence of characters by preceding it with a
backslash. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the host-command is omitted, the
Odin object itself is executed. If execute permission is set for the Odin
object, it is given to the host operating system for execution; otherwise, the
Odin object is assumed to contain odin-commands that are to be executed by the
Odin interpreter. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc4.4">4.4</a>&nbsp;&nbsp;Variable
Assignment Odin-Commands</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=variable></a>The behavior
of the Odin interpreter can be modified by changing the value of an <em>Odin
variable</em>. The functions affected by Odin variables are the current working
directory, the distributed parallel build facility, the help facility, the
error and log facility, the file change notification facility, and the maximum
total file system space used by derived objects. </p>

<p class=MsoNormal style='margin-top:7.0pt'>A variable assignment odin-command
consists of the name of an Odin variable followed by an equal-sign operator and
an odin-expression. For example, the odin-commands: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; dir = ../src</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; warnlevel = 4</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>assign the value <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>../src</span></tt> to the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>Dir</span></tt> variable and
the value <tt><span style='font-size:10.0pt;font-family:"Courier New"'>4</span></tt>
to the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>WarnLevel</span></tt>
variable (Odin variable names are case-insensitive). </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the value is omitted from a
variable assignment odin-command, Odin displays the current value of the
specified variable. For example, after the preceding odin-commands, the
odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; warnlevel =</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>4</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>can be used to find out the current value of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>WarnLevel</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The Odin variables and their
default values are: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Dir ........... odin_invocation_directory</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>MaxBuilds ..... 2</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>BuildHosts .... LOCAL : LOCAL</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Size .......... 0</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>KeepGoing ..... yes</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>History ....... yes</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>LogLevel ...... 2</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>ErrLevel ...... 3</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>WarnLevel ..... 2</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>HelpLevel ..... 1</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>VerifyLevel ... 2</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>An initial value for an Odin
variable can be specified in an environment variable whose name is the the Odin
variable name in capital letters preceded by the string <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ODIN</span></tt>. For
example, the initial value for <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>MaxBuilds</span></tt> is specified in the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ODINMAXBUILDS</span></tt>
environment variable. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.1">4.4.1</a>&nbsp;&nbsp;Dir</h3>

<p class=MsoNormal style='margin-top:7.0pt'>The current working directory can
be changed by assigning a new value to the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>Dir</span></tt> variable. The value of the current
working directory is especially significant for Odin, since Odin identifies
source objects by their absolute pathname, and the current working directory
provides the absolute pathname for all relative names given to the Odin
interpreter. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.2">4.4.2</a>&nbsp;&nbsp;BuildHosts,
MaxBuilds</h3>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>BuildHosts</span></tt> variable specifies the
list of hosts that are used to execute the tools that generate the derived
objects. A tool is executed on the first entry in the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>BuildHosts</span></tt> list
that does not have a currently executing tool. The name <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>LOCAL</span></tt> refers to
the local host. The <tt><span style='font-size:10.0pt;font-family:"Courier New"'>MaxBuilds</span></tt>
variable specifies the maximum number of tools to execute in parallel. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The hosts in <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>BuildHosts</span></tt> must
have the same machine architecture and file namespace as the local host. If
builds on non-equivalent machines are desired, this can be achieved by
extending the tool packages (see Section&nbsp;). </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.3">4.4.3</a>&nbsp;&nbsp;KeepGoing</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=keepgoing></a>When a build
step reports errors, Odin will continue with build steps that do not depend on
the failed build step. Setting the value of the <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>KeepGoing</span></tt> variable to <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>no</span></tt> will cause
Odin to terminate the build when any build step reports an error (similar to
the default behavior of Make). </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.4">4.4.4</a>&nbsp;&nbsp;History</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=history></a>The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>History</span></tt> variable
specifies whether emacs-like history and command line editing is supported by
Odin when it is used as an interactive command interpreter. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.5">4.4.5</a>&nbsp;&nbsp;ErrLevel,
WarnLevel, LogLevel</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=errlevel></a>When an
odin-command is executed, Odin indicates any errors or warnings associated with
the odin-expressions specified in that odin-command. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ErrLevel</span></tt> and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>WarnLevel</span></tt>
variables specify how detailed this report is. In particular, the user can
choose whether to see final status information, to see messages incrementally
as they are produced by tools steps, or to see a summary of all relevant
messages (including those from previously cached tool steps). </p>

<p class=MsoNormal style='margin-top:7.0pt'>Odin can also produce a variety of
information about the activities it is performing, such as a brief description
of each tool that is invoked to satisfy a given request. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>LogLevel</span></tt> variable
specifies how detailed these messages are. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.6">4.4.6</a>&nbsp;&nbsp;HelpLevel</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=helplevel></a>The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>HelpLevel</span></tt>
variable specifies what degree of detail is provided when the user asks for a
list of possible file or parameter types (see Section&nbsp;). Normally, only
commonly used types are described, but the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>HelpLevel</span></tt> can be increased to have all
possible types described. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.7">4.4.7</a>&nbsp;&nbsp;VerifyLevel</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=verifylevel></a>By default,
Odin checks the modification dates of all relevant source files at the
beginning of an Odin session and before each interactive odin-command. If all
file modifications during the session are performed through copy odin-commands
or through an editor that has been upgraded to send a <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>filename!:test</span></tt>
odin-command to Odin whenever <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>filename</span></tt> is modified, the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>VerifyLevel</span></tt>
variable can be set to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>1</span></tt>
and only the check at the beginning of the session is performed. If all file
modifications since the last session have been performed in the above manner, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>VerifyLevel</span></tt> can
be set to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>0</span></tt>
and the initial check is avoided as well. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.8">4.4.8</a>&nbsp;&nbsp;Size</h3>

<p class=MsoNormal style='margin-top:7.0pt'>The value of the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>Size</span></tt> variable
indicates how much disk space (in kilobytes) is currently being used by derived
files. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.4.9">4.4.9</a>&nbsp;&nbsp;Environment
Variables</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=envvar></a>Environment
variables can be used in odin-commands. For example, if the environment
variable <tt><span style='font-size:10.0pt;font-family:"Courier New"'>$HOME</span></tt>
has the value <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/u/geoff</span></tt>,
then the two odin-commands: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; $HOME/prog.c :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; /u/geoff/prog.c :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are equivalent. The value of an environment variable can be
quoted by immediately preceding it with a quoted identifier. For example, if
the value of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>$PATH</span></tt>
is <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/bin:/usr/bin</span></tt>,
then the two odin-commands: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c +path='/etc:'$PATH</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c +path='/etc:/bin:/usr/bin'</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are equivalent. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The environment variable <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>$ODINCACHE</span></tt> is
set by Odin to be the location of the cache directory (see Section&nbsp;<a
href="#cache">1.2.2</a>). </p>

<p class=MsoNormal style='margin-top:7.0pt'>An environment variable is given a
new value with a variable assignment odin-command of the form: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Variable = !Value</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; HOME = !/u/clemm</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>sets the value of the environment variable <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>$HOME</span></tt> to be <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>/u/clemm</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Although any environment variable
can be used in odin-commands, only environment variables declared in a tool
package (see Section&nbsp;) can be used in <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>Odinfile</span></tt> target definitions (see
Section&nbsp;<a href="#target">2.1</a>) The value of a declared environment variable
is obtained from the environment at the time the current cache was created or
reset. If the variable was not set in that environment, the default value
specified in the derivation graph declaration of the variable is used. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The expressions <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>~&nbsp;</span></tt> and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>~&nbsp;name</span></tt> are
treated as if they were environment variables, bound respectively to the login
directory of the current user and the login directory of the user with login <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>name</span></tt>. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEc4.5">4.5</a>&nbsp;&nbsp;Help</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=help></a>A simple
context-sensitive help facility is provided to describe the syntax of
odin-commands and the currently available object types and parameter types. If
a user types a question-mark anywhere in an odin-command, Odin provides a
description of what could appear at that location in the odin-command. For
example, the following odin-command provides a syntax summary: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; ?</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Control-D</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>OdinExpr</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>HostFile</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>+ ParameterType</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>+ ParameterType = Identifier</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>+ ParameterType = (OdinExpr)</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>: FileType</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>/ Key</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>% Key</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>OdinExpr &gt; OdinExpr</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>OdinExpr &gt;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>OdinExpr &lt; OdinExpr</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>OdinExpr &lt;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>OdinExpr !HostCommand</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>OdinExpr !</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>OdinExpr !:test</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>!HostCommand</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>!:test</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Variable =</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Variable = Value</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Variable = !Value</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.5.1">4.5.1</a>&nbsp;&nbsp;Source
Type Help</h3>

<p class=MsoNormal style='margin-top:7.0pt'>If a list of the declared source
object type-names is desired, a question-mark can be put in place of the
extension for a file. For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog?</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Possible Base Types :</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>.c ............. C source code</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>.f ............. Fortran77 source code</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>.c.sm .......... C system model containing a list of filenames</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>,v ............. RCS version control file</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>describes the currently recognized type suffixes, where the
message contents is derived from the installed tool packages (see
Section&nbsp;). </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.5.2">4.5.2</a>&nbsp;&nbsp;Derivation
Help</h3>

<p class=MsoNormal style='margin-top:7.0pt'>If a list of possible derivations
is desired, a question-mark can be put in place of the derivation name, and the
Odin system responds with a list of the possible object types that can appear
at that position. For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c :fmt : ?</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Possible Derivations from an Object of Type &quot;fmt&quot;:</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>o .......... object code</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>exe ........ executable binary</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>fmt ........ formatted version</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>xref ....... cross reference listing</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>states that all of the following are acceptable odin-expressions:
</p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt :o</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt :exe</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt :fmt</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt :xref</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.5.3">4.5.3</a>&nbsp;&nbsp;Parameterization
Help</h3>

<p class=MsoNormal style='margin-top:7.0pt'>If a list of the possible parameter
types is desired, a question-mark can be put in place of the parameter, and the
Odin system responds with a list of the possible parameter types that can
appear at that position. For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c :fmt + ?</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Possible Parameters:</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>lib ........ object code library</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>debug ...... flag to generate debugging information</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>states that any of the following are acceptable
odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt +lib=(/usr/lib/network.a)</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt +debug</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt +debug +lib=(/usr/lib/network.a)</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>A more exact form of parameter help
can be specified by indicating which derivation you intend to apply to the
parameterized object. For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c :fmt + ? :o</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Possible Parameters:</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>debug ...... flag to generate debugging information</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>states that the following is an acceptable odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :fmt +debug :o</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>Since the <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>+lib</span></tt> parameter is not relevant to the derivation
from <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:fmt</span></tt>
to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:o</span></tt>,
it is not listed. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEc4.5.4">4.5.4</a>&nbsp;&nbsp;Variable
Help</h3>

<p class=MsoNormal style='margin-top:7.0pt'>A list of the available variable
names is generated in response to the odin-command, </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; ? =</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Dir MaxBuilds BuildHosts Size KeepGoing History</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>LogLevel ErrLevel WarnLevel HelpLevel VerifyLevel</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>A description of the possible values that can be assigned to
a given variable is generated in response to the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>Variable = ?</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; LogLevel = ?</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>0: No log information is generated.</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>1: Build commands are echoed.</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>2: And Odin commands.</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>3: And names of objects with errors.</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>4: And names of objects generated by tool scripts.</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>5: And names of objects generated by internal tools.</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>6: And names of objects deleted.</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>7: And names of objects touched by broadcast.</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>describes the possible values of the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>LogLevel</span></tt>
variable. </p>

<h1 style='margin-top:7.0pt'><a name="tth_chApA">Appendix A </a><br>
Dependency Database Utilities</h1>

<p class=MsoNormal style='margin-top:7.0pt'>Odin provides the following
utilities for browsing and modifying the dependency database: <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:test</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:redo</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:inputs</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:outputs</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:elements</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:element-of</span></tt>, and
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>:dpath</span></tt>.
These utilities are specified following the exclamation point of an execute
odin-command. For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c :o ! :redo</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>would invoke the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:redo</span></tt> utility with <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c:o</span></tt> as its
argument. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Unlike objects named in all other
kinds of odin-commands, the object specified as an argument to a database
utility is <em>not</em> made up-to-date before the database utility is
executed. If you wish the database utility to be executed on an up-to-date
object, first give the object as an argument to a query odin-command. For
example: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c :o</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c :o ! :redo</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<h2 style='margin-top:7.0pt'><a name="tth_sEcA.1">A.1</a>&nbsp;&nbsp;Testing
Host Files for Changes</h2>

<p class=MsoNormal style='margin-top:7.0pt'>Normally Odin checks all host files
for changes at the beginning of an Odin session and before each interactive
odin-command (Odin actually performs these checks lazily, and will <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>fstat()</span></tt> a file
only when it is needed as input to a tool). It also checks a particular host
file for changes after it is used as the destination of a copy odin-command. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Odin's runtime efficiency can be
significantly improved by setting the Odin <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>VerifyLevel</span></tt> variable to <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>1</span></tt> (see
Section&nbsp;<a href="#verifylevel">4.4.7</a>). In this mode, the user (or a
tool such as the user's editor) must notify Odin with the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:test</span></tt> utility
whenever a file changes other than through a copy odin-command. </p>

<p class=MsoNormal style='margin-top:7.0pt'>For example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; /usr/src/prog.c ! :test</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>causes Odin to check to see if <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>/usr/src/prog.c</span></tt> has changed, to
determine whether objects derived from this file must be recomputed. If no
source is specified for the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:test</span></tt>
utility, i.e. the odin-command is just: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; ! :test</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>then all source files known to Odin are checked. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The Odin distribution includes an <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>odin.el</span></tt> file
that extends the gnu-emacs editor to issue the appropriate <em>filename</em><tt><span
style='font-size:10.0pt;font-family:"Courier New"'>!:test</span></tt> message
whenever a file is saved. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEcA.2">A.2</a>&nbsp;&nbsp;Redoing a
Particular Derivation Step</h2>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:redo</span></tt> utility allows the user to
tell Odin that a particular step in a derivation should be recomputed when it
is next requested, even if that step has already been computed and inputs to
that step have not changed. For example, the odin-commands: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c +debug :o ! :redo</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c +debug :o</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>causes Odin to redo the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog.c+debug:o</span></tt> step. This utility is
useful when a transient error in a derivation step occurs, but the tool that
implements the derivation step did not recognize it as a transient error. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEcA.3">A.3</a>&nbsp;&nbsp;Browsing
the Dependency Database</h2>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:inputs</span></tt> utility displays the
direct inputs to the specified derived object. The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:outputs</span></tt> utility displays the
direct outputs of the specified object. The <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:elements</span></tt> utility displays the elements
of the specified list. The <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:element-of</span></tt>
utility displays the lists that contain the specified object as an element. For
example, the odin-command: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; prog.c +debug :exe !: inputs</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>displays the input objects used to compute the derived
object <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c+debug:exe</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:dpath</span></tt> utility displays the
dependency path from one object to another (if there is one). Normally, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:dpath</span></tt> is
applied to an object with a trailing <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>+depend</span></tt> parameter. For example: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c :exe +depend=(/usr/include/stdio.h) ! :dpath</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>would display the dependency path from <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>/usr/include/stdio.h</span></tt>
to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c:exe</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>When browsing the dependency
database, you may encounter certain internal object types that you have not
explicitly declared. For example, if you have declared a tool with multiple
outputs, there will be an object whose type ends with <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>*composite</span></tt> which
represents the set of output objects from a single tool run. Another example is
a <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:abstract</span></tt>
object which is created for each <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:PIPE</span></tt> and <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:GENERIC</span></tt> object. </p>

<h1 style='margin-top:7.0pt'><a name="tth_chApB">Appendix B </a><br>
Tool Package Libraries</h1>

<p class=MsoNormal style='margin-top:7.0pt'><a name=library></a>In the Odin
system, all information about tools, object types, and parameter types is
specified in special directories called <em>tool package libraries</em>. When a
cache (see Section&nbsp;<a href="#cache">1.2.2</a>) is created, <em>tool
packages</em> from the tool package libraries are installed in the cache. A
tool package is just a sub-directory of a tool package library, where the name
of the package is the name of the sub-directory. The list of tool packages and
the order in which they should be loaded is specified in a file named <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>PKGLST</span></tt> (one
package name per line) in the tool package library directory. </p>

<p class=MsoNormal style='margin-top:7.0pt'>A default tool package library that
is provided with the Odin distribution is installed into every cache. This
default library is commonly located in <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>/usr/local/lib/Odin</span></tt>. Do not add, delete,
or modify packages from this library. This ensures that installation of newer
versions of Odin will not delete or overwrite any local modifications. </p>

<p class=MsoNormal style='margin-top:7.0pt'>A user can have the packages from
additional libraries installed by specifying these libraries (separated by
colons) in the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>$ODINPATH</span></tt>
environment variable. For example, if a user sets the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>$ODINPATH</span></tt>
variable to have the value <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/project/lib/Odin:/home/geoff/my-pkg-lib</span></tt>,
then the packages from <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/project/lib/Odin</span></tt>,
from <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/home/geoff/my-pkg-lib</span></tt>,
and from the default library are installed into every cache the user creates.
If a package with a given name occurs in several package libraries, the package
from the library that occurs earliest in <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>$ODINPATH</span></tt> is used. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The entries in <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>$ODINPATH</span></tt> can
also be individual tool packages rather than tool package libraries, in which
case those packages are added to the list of packages to be installed into the
cache. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEcB.1">B.1</a>&nbsp;&nbsp;Tool
Packages</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=package></a>A tool package
is a directory that contains a <em>derivation graph</em> file and any support
files that implement the tools declared in the derivation graph. If <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>pkgx</span></tt> is the name
of the tool package, then <tt><span style='font-size:10.0pt;font-family:"Courier New"'>pkgx.dg</span></tt>
is the name of the derivation graph file. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The derivation graph is the
mechanism for declaring object types, parameter types, environment varables,
and tools for the tool package. It is described in detail in Section&nbsp;. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.1.1">B.1.1</a>&nbsp;&nbsp;Versioned
Tool Packages</h3>

<p class=MsoNormal style='margin-top:7.0pt'>By default, a tool package is
symbolically linked into each cache in which it is installed. Since the Odin
system maintains the dependency of each build step on the package scripts used
by that build step, a change to a build script will cause the recomputation of
all build steps that use that script. In case the script change is an
enhancement rather than a bug fix, it is often preferable to allow each user to
decide when to upgrade his cache to use the new packages. </p>

<p class=MsoNormal style='margin-top:7.0pt'>To provide this functionality, a
tool package library can contain a file named <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>LIBVER</span></tt> in addition to the tool package
subdirectories. The <tt><span style='font-size:10.0pt;font-family:"Courier New"'>LIBVER</span></tt>
file contains text of the form <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>PKGVER.i</span></tt>, where <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>i</span></tt> is an integer. Each tool package then
contains a file named <tt><span style='font-size:10.0pt;font-family:"Courier New"'>PKGVER.i</span></tt>
and a set of sub-directories, with one sub-directory for each version of the
tool package. If changes to a package are made in the form of a new version,
these changes are not seen by a user until he resets his cache with the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>-R</span></tt> option to the
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>odin</span></tt>
host-command. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The tool package version installed
into a cache is the one specifed by the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>PKGVER.i</span></tt> file. For example, if <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>LIBVER</span></tt> contained
the text <tt><span style='font-size:10.0pt;font-family:"Courier New"'>PKGVER.7</span></tt>,
and if a tool package directory named <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>pkgx</span></tt> contains three tool version
directories named <tt><span style='font-size:10.0pt;font-family:"Courier New"'>pkgx/1.0</span></tt>,
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>pkgx/1.1-beta</span></tt>,
and <tt><span style='font-size:10.0pt;font-family:"Courier New"'>pkgx/1.2</span></tt>,
and if the contents of the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>pkgx/PKGVER.7</span></tt>
file is the text <tt><span style='font-size:10.0pt;font-family:"Courier New"'>1.1-beta</span></tt>,
then any new cache that installs <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>pkgx</span></tt> installs the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>1.1-beta</span></tt> version of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>pkgx</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>When a new version of the library
is installed, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>i</span></tt>
in <tt><span style='font-size:10.0pt;font-family:"Courier New"'>PKGVER.i</span></tt>
is incremented, e.g. to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>PKGVER.8</span></tt>,
and a <tt><span style='font-size:10.0pt;font-family:"Courier New"'>PKGVER.8</span></tt>
file is created in each of the package subdirectories. The library can be
reverted back to an earlier version of the packages by editing the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>LIBVER</span></tt> file. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEcB.2">B.2</a>&nbsp;&nbsp;Derivation
Graphs</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=derivationgraph></a>A
derivation graph consists of a sequence of source, object type, parameter type,
environment variable, and tool declarations. A source declaration associates a
filename pattern with an object type. An object type declaration associates an
object type with a set of supertypes. A parameter type declaration associates a
parameter type with an object type for the parameter values. An environment
variable declaration specifies a default value for an environment variable. A
tool declaration specifies the inputs and outputs of the tool, where the inputs
are object types, parameter types, odin-expressions, and identifiers, and where
the outputs are object types. </p>

<p class=MsoNormal style='margin-top:7.0pt'>In the derivation graph, the
following characters are special: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>&lt;whitespace&gt; # \ ' : + = ( ) / % ; ? * &lt; &gt; @ &amp; $</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The quoting and commenting conventions for the derivation
graph are the same as those for odin-expressions (see Section&nbsp;<a
href="#odinexpr">2.2</a>). </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEcB.3">B.3</a>&nbsp;&nbsp;Source
Declarations</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=sourcedecl></a>A source
declaration specifies the type for a host file based on the filename of the
host file. It consists of a <em>filename expression</em>, a right arrow
(composed from an equal-sign and a right-angle-bracket), and the name of a
declared object type. A filename expression consists either of an identifier
followed by an asterisk (i.e. all filenames that begin with that identifier),
an asterisk followed by an identifier (i.e. all filenames that end with that
identifier), or just an asterisk (i.e. all filenames). For example, the
derivation graph entries: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>*.c<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; :c;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>*.c.c =&gt; :cplusplus;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>s.*<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; :sccs;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>*<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declare that the object type of a filename ending with <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>.c</span></tt> is <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt>, the object
type of a filename ending with <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>.c.c</span></tt> is <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:cplusplus</span></tt>, the object type of a
filename beginning with <tt><span style='font-size:10.0pt;font-family:"Courier New"'>s.</span></tt>
is <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:sccs</span></tt>,
and the object type of any filename is <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:FILE</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The following disambiguation rules
are used to ensure that every host file has a single object type: if a host
filename matches both a prefix filename expression and a suffix filename
expression, then the host file is an instance of the prefix filename
expression; if a host filename matches two different prefix filename
expressions or two different suffix filename expressions, then the host file is
an instance of the longer filename expression. For example, with the previous
source declarations, the following object types would be assigned: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>FILENAME<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>OBJECT-TYPE</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/test.c<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/test.c.c<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>cplusplus</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/s.test.c.c<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>sccs</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>src/test<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>FILE</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<h2 style='margin-top:7.0pt'><a name="tth_sEcB.4">B.4</a>&nbsp;&nbsp;Object
Type Declarations</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=objecttype></a>An object
type declaration consists of the object type being declared, a <em>help
identifier</em>, a right arrow, and the <em>direct supertypes</em> of the type
being declared. For example, the derivation graph entries: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp; </span><span style="mso-spacerun: yes">&nbsp;</span>:c 'C source code'? =&gt; :source;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:source 'source code' =&gt; :FILE;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:fmt 'formatted source code' =&gt; :FILE;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declare that the direct supertype of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt> is <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:source</span></tt>, the
direct supertype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:source</span></tt>
is <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:FILE</span></tt>,
and the direct supertype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:fmt</span></tt>
is <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:FILE</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>The <em>help identifier</em> is
used by the Odin help system to generate messages about the installed types
(see Section&nbsp;<a href="#help">4.5</a>). The help identifier is followed by
a question-mark to indicate that it should be displayed in help messages. The
user can explictly request to see all help identifiers by increasing the value
of the Odin <tt><span style='font-size:10.0pt;font-family:"Courier New"'>HelpLevel</span></tt>
variable (see Section&nbsp;<a href="#helplevel">4.4.6</a>). </p>

<p class=MsoNormal style='margin-top:7.0pt'>An object type can be declared with
multiple direct supertypes, either in a single declaration or in separate
declarations. For example, the derivation graph entries: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:fmt.c 'formatted version of C code' =&gt; :c;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:fmt.c 'formatted version of C code' =&gt; :fmt;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>and </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:fmt.c 'formatted version of C code' =&gt; :c :fmt;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>are equivalent. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <em>supertypes</em> of an
object type are the transitive closure of the direct supertypes (i.e. the
supertypes are the direct supertypes and all supertypes of the direct
supertypes). For example, from the preceding object type declarations, the
supertypes of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:fmt.c</span></tt>
are <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt>,
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>:fmt</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:source</span></tt>, and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:FILE</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The supertypes of an object type
help determine what objects can be derived from an object of that type. In
particular, if the type of the object <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>obj</span></tt> is <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:o</span></tt>, then the odin-expression <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>obj:deriv</span></tt> is
valid if <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:deriv</span></tt>
is a supertype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:o</span></tt>,
if <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:deriv</span></tt>
is the output of a tool whose inputs can be derived from <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:o</span></tt>, or if <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:deriv</span></tt> is a
supertype of an object that can be derived from <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:o</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>In some rare circumstances, a tool
produces an object of a specified type, but this object should not be used to
provide this type as an intermediate step in derivations. In this case, the
output type of the tool should be declared to be a <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>base subtype</span></tt> of the specified
type. This is indicated by placing angle brackets around the supertype. For example,
the derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:dummy_main.c 'dummy main program for a C executable' =&gt; &lt;:c&gt;;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that the direct base supertype of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:dummy_main.c</span></tt> is
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt>.
This states that derivations appropriate to objects of type <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt> can be
applied to objects of type <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:dummy_main.c</span></tt>,
but that a derived object of type <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:dummy_main.c</span></tt> cannot be used for a derivation that
must produce an object of type <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:c</span></tt>. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.4.1">B.4.1</a>&nbsp;&nbsp;Built-In
Supertypes</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=builtin></a>The following
object type declarations are built into the Odin system: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:OBJECT 'any object'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :OBJECT;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:FILE 'a file'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :OBJECT;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:LIST 'a list'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :OBJECT;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:VOID 'an object with no value'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt; :OBJECT;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:REFERENCE 'a reference'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :OBJECT;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:EXECUTABLE 'a file that should be executed when queried' =&gt; :FILE;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:GENERIC 'a file whose type is based on its label'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:PIPE 'a file produced by a type-preserving tool'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:DERIVED-DIRECTORY 'a derived directory'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>Every object type other than the built-in object types must
be a subtype of exactly one of <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:FILE</span></tt>, <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:LIST</span></tt>, or <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:VOID</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the type of an object is a
subtype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:VOID</span></tt>,
the the object does not have a value. These types are useful for declaring
tools that do not generate an output file, but do have side effects such as
printing a file or writing a tape. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the type of an object is a subtype
of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:REFERENCE</span></tt>,
then the object refers to another object. Whenever a reference object is used,
such as when it is displayed or when it is given as input to a tool, it is
automatically dereferenced by Odin. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the type of an object is a
subtype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:EXECUTABLE</span></tt>,
when the object is specified in a query odin-command (see Section&nbsp;<a
href="#query">4.1</a>), the object is automatically executed after it has been
made up-to-date. Executable types are analagous to executable targets (see
Section&nbsp;<a href="#executabletarget">2.4.1</a>). </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the type of an object is a
subtype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:GENERIC</span></tt>,
then the object is a derived file whose type is based on the root of the source
file from which it is derived (see Section&nbsp;<a href="#selection">2.2.2</a>).
A generic type is commonly produced as the result of a checkout operation from
a source control file or as the result of an uncompress operation on a
compressed file. For example, if the root of <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog.c.sm,v</span></tt> is <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c.sm</span></tt>, if
the type of a file named <tt><span style='font-size:10.0pt;font-family:"Courier New"'>prog.c.sm</span></tt>
is <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:c.sm</span></tt>,
and if <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:checkout</span></tt>
is declared in the derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:checkout 'version checked out of a version control file' =&gt; :GENERIC;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>then the type of <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog.c.sm,v :checkout</span></tt> is <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:c.sm</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the type of an object is a
subtype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:PIPE</span></tt>,
then the object is a derived file whose type is the same as the input object to
the tool that produced it. For example, if <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:stdout</span></tt> is declared in the derivation
graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:stdout 'standard output file of a tool run' =&gt; :PIPE;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>and if the type of <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog.c</span></tt> is <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:c</span></tt>, then the type of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c +cmd='sed s/a/b/'
:stdout</span></tt> is also <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>If the type of an object is a
subtype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:DERIVED-DIRECTORY</span></tt>,
then the object must be a directory produced by a tool. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.4.2">B.4.2</a>&nbsp;&nbsp;Built-In
Derived Object Types</h3>

<pre style='margin-top:7.0pt'><a name=builtindrv></a><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:err<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'errors'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:warn<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'warnings'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:targets<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'targets in an Odinfile'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:name<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'name of an object'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:names<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'names of the elements of a list'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:filename<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>'filename of a file'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:ls<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'filenames of the elements of a list' =&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:cat<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'concatenation of the contents of the elements of a list'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:first<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'first element of a list'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :OBJECT;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:union<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'list union'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :LIST;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:id<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'unique numeric id of an object'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'> <span style="mso-spacerun: yes">&nbsp;&nbsp;</span>:label<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'label of an object'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:labels<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'labels of the elements of a list'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:dir<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'directory containing a file'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :REFERENCE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:vir_dir<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'directory containing virtual files'<span style="mso-spacerun: yes">&nbsp; </span>=&gt; :DERIVED-DIRECTORY;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:depend<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'source dependencies'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :LIST;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:source_names 'source components of a system model' =&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:operation_names 'operation components of a system model'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:view<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'view from a view-path specification' =&gt; :LIST;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:expand_hooks 'expand hooks'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :FILE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:apply<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>'apply operations'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :REFERENCE;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:odin_help<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>'top level help for odin'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :EXECUTABLE;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:err</span></tt> derivation produces a text
file from an arbitrary input object. This text file contains all error messages
generated by any tool used in the process of creating the input object. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:warn</span></tt> derivation
produces a text file that contains both warning and error messages. </p>

<p class=MsoNormal style='margin-top:7.0pt'>An <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>Odinfile</span></tt> can contain nested target
definitions (see Section&nbsp;<a href="#nestedtarget">2.6</a>). The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:targets</span></tt>
derivation produces a flattened version of the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>Odinfile</span></tt> containing all target definitions.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:name</span></tt> derivation produces a text
file that contains an odin-expression that specifies the input object. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:names</span></tt>
derivation produces a text file from a list, where the text file contains a
sequence of odin-expressions corresponding to the elements of the input object.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:filename</span></tt> derivation produces a
text file from a file, where the text file contains the host filename of the
input object. The <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:ls</span></tt>
derivation produces a text file from a list, where the text file contains a
sequence of host filenames corresponding to the elements of the input object.
The filename of a string object is the identifier that names the string object.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:cat</span></tt> derivation produces a text
file from a list, where the text file contains the concatenation of the contents
of the elements of the input object. The contents of a string object is the
identifier that names the string object. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:first</span></tt> derivation produces an
object from a list, by selecting the first element of the list. This
derivations is primarily used in parameter type declarations. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:union</span></tt> derivation produces a list
from a list, where each element in the input list appears exactly once in the
output list. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:id</span></tt> derivation generates a text
file containing a unique integer for the input object. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:label</span></tt>
derivation generates a text file containing the label of the input object. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:labels</span></tt>
derivation produces a text file from a list, where the text file contains a
sequence of labels corresponding to the elements of the input object. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:dir</span></tt> derivation produces a
reference object that refers to the directory containing the input object. If
the input object is a derived object, then <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:dir</span></tt> produces the directory that
contains the source object from which the input object is derived. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:vir_dir</span></tt> derivation produces a
derived directory containing all the virtual targets defined in the input file.
For the syntax of a virtual target definition, see Section&nbsp;<a
href="#virtualtarget">2.3</a>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:depend</span></tt> derivation produces a
list from an arbitrary input object. This list contains all source objects used
in the process of creating the input object. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:source_names</span></tt> derivation produces
a text file from a text file. The format of the input text file is a sequence
of odin-expressions naming file objects. The output text file contains just the
initial source filename component of each odin-expression (i.e. the first
derivation or parameterization operator and all subsequent operations are
removed). An example of such an input file would be: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>../prog.c :fmt +debug</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>test.c +inc_sp=(..)</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The result of applying <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:source_names</span></tt> to this input file would
be: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>../prog.c</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>test.c</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:operation_names</span></tt> derivation
produces a text file from a text file. The format of the input text file is a
sequence of odin-expressions naming file objects, one odin-expression per line.
The output text file contains any text following the initial source filename
component of each odin-expression (i.e. everything preceding the first
derivation or parameterization operator is removed). An example of such an
input file would be: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>../prog.c :fmt +debug</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>test.c +inc_sp=(..)</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The result of applying <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:operation_names</span></tt> to this input file
would be: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:fmt +debug</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>+inc_sp=(..)</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:view</span></tt> derivation produces a list
from a text file. The format of the text file is sequences of odin-expressions
naming file objects, where each sequence is terminated by an odin-expression
naming a string object. An example of such an input file would be: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre># the search sequence for test.h</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>test.h</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>test.h,v :co</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>RCS/test.h,v :co</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>= 'test.h'</pre><pre># the search sequence for sys.h</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>sys.h</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>SCCS/s.sys.h :co</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>= 'sys.h'</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:view</span></tt>
list contains the first file from each sequence whose status is greater than <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ERROR</span></tt>. If none
of the files in a particular sequence have the appropriate status, the status
of the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:view</span></tt>
object is set to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>ERROR</span></tt>,
unless the sequence is terminated by the empty string odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>= ''</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>in which case that sequence is just ignored. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:view</span></tt> derivation
depends only on the file selected from a given sequence and on the files
preceding the selected file in the given sequence. This means that error
messages from these preceding files are included in <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:error</span></tt> reports for the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:view</span></tt> object,
but any derived files following a selected files from a given sequence are
ignored when the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:view</span></tt>
object is made up-to-date. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:expand_hooks</span></tt> derivation produces
a text file from an input text file by expanding all <em>hooks</em> found in
the input file. A hook is a way of linking a message back to an appropriate
area in a source file that is relevant to understanding the given message. </p>

<p class=MsoNormal style='margin-top:7.0pt'>A hook is text of the form: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>(| odin-expression | hooktype | hookdata |)</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>where <tt><span style='font-size:10.0pt;font-family:"Courier New"'>odin-expression</span></tt>
is the name of the object referenced by the hook, <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>hooktype</span></tt> is the type of the hook,
and <tt><span style='font-size:10.0pt;font-family:"Courier New"'>hookdata</span></tt>
is the actual reference. In order to escape the delimiter `<tt><span
style='font-size:10.0pt;font-family:"Courier New"'>(</span></tt><tt><span
style='font-size:10.0pt;font-family:Symbol'>|</span></tt>', `<tt><span
style='font-size:10.0pt;font-family:Symbol'>|</span></tt>', or `<tt><span
style='font-size:10.0pt;font-family:Symbol'>|</span></tt><tt><span
style='font-size:10.0pt;font-family:"Courier New"'>)</span></tt>', precede it
with a backslash. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:expand_hooks</span></tt> derivation replaces
all constructs of this form with the result of applying <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:hooktype</span></tt> to the
object specified by <tt><span style='font-size:10.0pt;font-family:"Courier New"'>odin-expression</span></tt>.
The value of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>hookdata</span></tt>
is placed in the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>+hookvalue</span></tt>
parameter. Hooks appearing in the hookdata string (<em>nested hooks</em>) are
passed unexpanded to the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:hooktype</span></tt>
tool. The result of the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:hooktype</span></tt>
derivation should be text that references the appropriate location in a source
file. This text can in turn contain additional hooks that will be expanded (in
particular, this allows for the expansion of nested hooks). </p>

<p class=MsoNormal style='margin-top:7.0pt'>If <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:hooktype</span></tt> cannot be applied to the
object specified by <tt><span style='font-size:10.0pt;font-family:"Courier New"'>odin-expression</span></tt>,
Odin attempts to apply <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:hooktype</span></tt>
to any object from which this object can be derived. If all attempts to apply <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:hooktype</span></tt> fail,
the result of hook expansion is the input text with the delimiters around the
hook deleted. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:apply</span></tt> derivation produces a
reference object from an input object and a <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>+apply</span></tt> parameter. The value of the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>+apply</span></tt> parameter
is a file containing an arbitrary sequence of selection, derivation, and
parameterization expressions, which are applied to the input object by the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:apply</span></tt>
derivation. For example, if the file <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>apply.expr</span></tt> contained the text: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>+debug :output /OUT.DAT</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>the two odin-expressions: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +debug :output /OUT.DAT</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>prog.c +apply=(apply.expr) :apply</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>would be equivalent. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:odin_help</span></tt> derivation produces an
executable file from the current working directory. This file is executed
whenever the user requests help with the odin-command </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; ?</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>The <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:odin_help</span></tt>
derivation can be overridden in a tool package to provide a different response
to this help command. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEcB.5">B.5</a>&nbsp;&nbsp;Parameter
Type Declarations</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=parametertype></a>A
parameter type declaration consists of the parameter type being declared, a
help identifier, a right arrow, and an object type. When a parameter type is
used as the input to a tool, the list of values for that parameter type is
first derived to the specified object type. For example, the derivation graph
entries: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>+define 'a macro definition'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :cat;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>+lib<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>'an object code library' =&gt; :ls;</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>+debug <span style="mso-spacerun: yes">&nbsp;</span>'debug flag'<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>=&gt; :first;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declare a <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>+define</span></tt> parameter type whose values are <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:cat</span></tt>'ed, a <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>+lib</span></tt> parameter
type whose values are <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:ls</span></tt>'ed,
and a <tt><span style='font-size:10.0pt;font-family:"Courier New"'>+debug</span></tt>
parameter type which is a flag. </p>

<h2 style='margin-top:7.0pt'><a name="tth_sEcB.6">B.6</a>&nbsp;&nbsp;Environment
Variable Declarations</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=envvardecl></a>An
environment variable declaration consists of the environment variable being
declared, a help identifier, an equal-sign, and either an identifier or a
parenthesized odin-expression. The value following the equal-sign specifies the
default value for that variable. For example, the derivation graph entries: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>$CC 'name of the C compiler' = 'gcc';</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>$CC_HOME 'directory containing the C compiler tools' = '/usr/local/bin';</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>specify default values for <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>$CC</span></tt> and <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>$CC_HOME</span></tt>. These values can then be
overridden by corresponding values in the environment when a particular cache
is created or reset. For example, if the value of <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>$CC_HOME</span></tt> is defined to be <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>/usr/public/bin</span></tt>
in the environment of the process that resets a cache, then the value of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>$CC_HOME</span></tt> is <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>/usr/public/bin</span></tt>
whenever it is used in odin-expressions or odin-commands for that cache. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the default value is a
parenthesized odin-expression, the expression is evaluated and the resulting
filename is used as the default value. </p>

<p class=MsoNormal style='margin-top:7.0pt'>The current environment variables
for a cache can be found in <tt><span style='font-size:10.0pt;font-family:"Courier New"'>$ODINCACHE/ENV</span></tt>.
</p>

<h2 style='margin-top:7.0pt'><a name="tth_sEcB.7">B.7</a>&nbsp;&nbsp;Tool
Declarations</h2>

<p class=MsoNormal style='margin-top:7.0pt'><a name=execdecl></a>A tool
declaration consists of a tool name, the tool inputs, a right arrow, and the
tool outputs. The tool name is either <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>EXEC</span></tt>, <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>COLLECT</span></tt>, <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>READ-LIST</span></tt>, or <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>READ-REFERENCE</span></tt>.
A tool input is an identifier or an <em>input-expression</em> in parentheses
(see Section&nbsp;). A tool output is an object type in parentheses. </p>

<p class=MsoNormal style='margin-top:7.0pt'>For example, the derivation graph
entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EXEC (/bin/yacc) -dv (:y) =&gt; (:y.tab.c) (:y.tab.h) (:y.output);</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares an <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>EXEC</span></tt> tool that has inputs <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>(/bin/yacc)</span></tt>, <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>-dv</span></tt>, and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>(:y)</span></tt>, and that
has outputs: <tt><span style='font-size:10.0pt;font-family:"Courier New"'>(:y.tab.c)</span></tt>,
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>(:y.tab.h)</span></tt>,
and <tt><span style='font-size:10.0pt;font-family:"Courier New"'>(:y.output)</span></tt>.
</p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.7.1">B.7.1</a>&nbsp;&nbsp;Input-Expressions</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=input></a>An <em>input-expression</em>
is just like an odin-expression, except that a <em>derived input</em> or a <em>parameter
input</em> can appear wherever a source filename can appear in an
odin-expression. A <em>derived input</em> consists of a declared object type
(e.g. <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:o</span></tt>),
while a <em>parameter input</em> consists of a declared parameter type (e.g. <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>+debug</span></tt>). </p>

<p class=MsoNormal style='margin-top:7.0pt'>An input-expression can contain
references to declared environment variables. For example, the following
derivation graph entries declare and reference the environment variable <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>$YACC_HOME</span></tt>: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>$YACC_HOME 'directory containing yacc' = '/bin';</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EXEC ($YACC_HOME/yacc) -dv (:y) =&gt; (:y.tab.c) (:y.tab.h) (:y.output);</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal style='margin-top:7.0pt'>An input-expression can contain <em>second-order
derivations</em>. A second-order derivation consists of a <em>second-order
object type</em> followed by an equal sign and a derivation expression. For
example, the input-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:lookup=:o</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>contains the second-order object type <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:lookup</span></tt> whose
argument is the derivation <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:exe</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>The five second-order object types
are <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:map</span></tt>,
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>:recurse</span></tt>,
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>:extract</span></tt>,
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>:delete</span></tt>,
and <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:lookup</span></tt>.
The derivation <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:map=:type</span></tt>
takes a list as input and produces a list containing the application of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:type</span></tt> to each
element of the input list. The derivation <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:recurse=:type</span></tt> takes a list as input and
produces a list containing the application of <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:type :recurse=:type</span></tt> to each element of
the input list to which <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:type</span></tt>
can be applied, and just the original element otherwise. The derivation <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:recurse=:type</span></tt>
can also take a file as input, in which case the input is treated as if it were
a list containing that file as its only member. The derivation <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:extract=:type</span></tt>
takes a list as input and produces a list containing each element of the input
list that is a subtype of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:type</span></tt>.
The derivation <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:delete=:type</span></tt>
takes a list as input and produces a list containing each element of the input
list that is not a subtype of <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:type</span></tt>. The derivation <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>:lookup=:type</span></tt> takes an object as
input and produces a reference to an object which is the application of <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:type</span></tt> to the
input object, except that each parameter value that is a reference or list is
replaced by the sequence of files contained by the reference or list. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.7.2">B.7.2</a>&nbsp;&nbsp;Ignoring
the Status of a Tool Input</h3>

<p class=MsoNormal style='margin-top:7.0pt'>By default, a tool is not run if
any of its inputs have <tt><span style='font-size:10.0pt;font-family:"Courier New"'>ERROR</span></tt>
status or less. In case the tool should ignore the status of an input object,
an ampersand is appended to the declaration of that input. For example, the
derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EXEC (od.sh) (:FILE)&amp; =&gt; (:FILE);</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>od.sh</span></tt> tool does not care what the status
of the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:FILE</span></tt>
input object is. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.7.3">B.7.3</a>&nbsp;&nbsp;Ignoring
Changes to the Value of a Tool Input</h3>

<p class=MsoNormal style='margin-top:7.0pt'>If a tool only uses the name of an
input file or only uses the names of the elements of an input list, then that
input is marked with an at-sign. In this case Odin ignores changes to the
value(s) of the input object, and only reruns the tool if the name(s) change.
For example, consider a tool that takes all relative names specified in <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>#include</span></tt>
statements from an input file, and forms the cross product of those names with
a set of directory names in a specified search path. A derivation graph entry
for such a tool is: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EXEC (c_inc.sh) (:c) (+search_path)@ =&gt; (:c_inc);</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>This declares that <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>c_incs.sh</span></tt> should be re-executed if the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt> file or the
names in the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>+search_path</span></tt>
parameter change, but not if the contents of the directories in the search path
change. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.7.4">B.7.4</a>&nbsp;&nbsp;EXEC
Tool</h3>

<p class=MsoNormal style='margin-top:7.0pt'><a name=exec></a>The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>EXEC</span></tt> tool passes
its inputs to the Unix <tt><span style='font-size:10.0pt;font-family:"Courier New"'>execl()</span></tt>
system call and expects its outputs to be placed in current working directory.
For example, the derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EXEC (/bin/ld) -o exe (:o) =&gt; (:exe);</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that a file named <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>exe</span></tt> is produced in the current working
directory by executing the C statement: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>status = execl(&quot;/bin/ld&quot;, &quot;/bin/ld&quot;, &quot;-o&quot;, &quot;exe&quot;, &quot;/xxx/filename.o&quot;);</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>where <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/xxx/filename.o</span></tt>
is the name of a file with type <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:o</span></tt>. When the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>execl()</span></tt> completes, Odin moves all output
files into the cache. </p>

<p class=MsoNormal style='margin-top:7.0pt'>An identifier input is passed to
the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>execl()</span></tt>
as a <tt><span style='font-size:10.0pt;font-family:"Courier New"'>C</span></tt>
string. </p>

<p class=MsoNormal style='margin-top:7.0pt'>An input-expression is passed to
the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>execl()</span></tt>
as an absolute pathname of the file named by the input-expression. Any relative
source filename in the input-expression refers to a file in the same directory
as the derivation graph file containing the type expression. For example, if an
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>EXEC</span></tt>
declaration in the derivation graph file <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>/usr/local/Odin/misc/1.0/misc.dg</span></tt>
contains the input <tt><span style='font-size:10.0pt;font-family:"Courier New"'>(od.sh)</span></tt>,
then this input is passed to the <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>execl()</span></tt> as <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>&quot;/usr/local/Odin/misc/1.0/od.sh&quot;</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>The value of a derived or parameter
input in the input-expression depends on the input object to which the tool is
being applied. For example, in the odin-expression: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span>prog.c +debug :exe</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>the input object to the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:exe</span></tt> derivation is <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c+debug</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Each derived input is replaced by a
file that is the result of applying the derived input object type to the input
object. For example, when the <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:exe</span></tt> object is being computed for <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>prog.c+debug:exe</span></tt>,
the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:o</span></tt>
derived input is replaced by the file <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>prog.c+debug:o</span></tt>. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Each parameter input is replaced by
the object resulting from applying the object type specified in the parameter
declaration for that parameter type, to the list of values of all parameters of
that type associated with the input object. As a special case, if no parameters
of that type are associated with the input object, the parameter input is
replaced by the empty string. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Each <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>execl()</span></tt> is invoked in an empty
directory provided by Odin, and the tool is expected to put its output files in
that directory. The name of an output file should be the same as the type-name
of the output. For example, the result of the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>execl()</span></tt> call for the output <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>(:exe)</span></tt> should be
an output file named <tt><span style='font-size:10.0pt;font-family:"Courier New"'>exe</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>In addition to the declared
outputs, there are two standard output files named <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>ERRORS</span></tt> and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>WARNINGS</span></tt>. Fatal
errors should be written to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>ERRORS</span></tt>,
while recoverable errors should be written to <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>WARNINGS</span></tt>. The <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>ERRORS</span></tt> and <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>WARNINGS</span></tt> files
are used by Odin to determine if error or warning status should be set for the
output of the tool. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Normally, the standard input of the
<tt><span style='font-size:10.0pt;font-family:"Courier New"'>execl()</span></tt>
is assigned to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>/dev/null</span></tt>
and the standard output and error is assigned to a temporary file that is
written to the standard output of the Odin client process after the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>execl()</span></tt> completes.
To aid in debugging of an <tt><span style='font-size:10.0pt;font-family:"Courier New"'>EXEC</span></tt>
tool, if the Odin variable <tt><span style='font-size:10.0pt;font-family:"Courier New"'>MaxBuilds</span></tt>
is set to <tt><span style='font-size:10.0pt;font-family:"Courier New"'>1</span></tt>,
the standard input, output, and error of the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>execl()</span></tt> are those of the Odin client
process. </p>

<p class=MsoNormal style='margin-top:7.0pt'>If the exit status of the <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>execl()</span></tt> call is
non-zero, Odin ignores the results of the <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>execl()</span></tt>, and aborts the current
odin-command. Non-zero exit status should therefore only be used to indicate
transient failures (such as memory or disk errors). This means that most
standard Unix tools must be wrapped in shell scripts, so that normal error
messages are sent to the file <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>ERRORS</span></tt> and only transient errors cause a non-zero
exit status. </p>

<p class=MsoNormal style='margin-top:7.0pt'>Since the Odin system caches the
results of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>EXEC</span></tt>
tools and assumes the results are still valid if none of the input objects
change, the tool writer must ensure that all files referenced during a tool run
are specified as inputs to that tool. In addition to explicit input files, many
tools use additional implicit input files whose names are specified in the text
of the explicit input to the tool. It is necessary in these cases to provide a
dependency scanning tool that produces as output a list containing the names of
all of these additional input files. These additional inputs are specified in
the tool declaration separated from the explicit inputs by the keyword <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>NEEDS</span></tt>. For
example, the derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>EXEC (cc.sh) (:c) (+cc_flags) NEEDS (:all_c_inc) =&gt; (:o);</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that the script <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>cc.sh</span></tt> uses as inputs an object of type <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt> and a
parameter of type <tt><span style='font-size:10.0pt;font-family:"Courier New"'>+cc_flags</span></tt>,
and indirectly uses as input an object of type <tt><span style='font-size:10.0pt;
font-family:"Courier New"'>:all_c_incs</span></tt>. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.7.5">B.7.5</a>&nbsp;&nbsp;COLLECT
Tool</h3>

<p class=MsoNormal style='margin-top:7.0pt'>When the output type of a <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>COLLECT</span></tt> tool
declaration is a list, the <tt><span style='font-size:10.0pt;font-family:"Courier New"'>COLLECT</span></tt>
tool produces a list whose elements are the input objects. For example, the
derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>COLLECT (:c_inc) (:c_inc :map=:all_c_inc) =&gt; (:all_c_inc);</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:all_c_inc 'all c includes' =&gt; :LIST;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:all_c_inc</span></tt> is a list that contains <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>:c_inc</span></tt> and the
result of applying <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:all_c_inc</span></tt>
to each element of <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:c_inc</span></tt>.
</p>

<p class=MsoNormal style='margin-top:7.0pt'>When the output type of a <tt><span
style='font-size:10.0pt;font-family:"Courier New"'>COLLECT</span></tt> tool
declaration is a reference, the <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>COLLECT</span></tt> tool produces a reference to the input
object. For example, the derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>COLLECT (:c +debug :o) =&gt; (:debug.o);</pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>:debug.o 'C compile with debug on' =&gt; :REFERENCE;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:debug.o</span></tt> is a reference to an object that results
from applying <tt><span style='font-size:10.0pt;font-family:"Courier New"'>+debug:o</span></tt>
to a <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:c</span></tt>
file. </p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.7.6">B.7.6</a>&nbsp;&nbsp;READ-LIST
Tool</h3>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>READ-LIST</span></tt> tool produces a list
from an input object. If the input object is a directory, this list contains
all the files in the directory. If the input object is a file, this list contains
the objects named by the odin-expressions in the input file. For example, the
derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>READ-LIST (:c.sm) =&gt; (:c.sm.list) ;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:c.sm.list</span></tt> is the list specified by the contents of
a file of type <tt><span style='font-size:10.0pt;font-family:"Courier New"'>:c.sm</span></tt>.
</p>

<h3 style='margin-top:7.0pt'><a name="tth_sEcB.7.7">B.7.7</a>&nbsp;&nbsp;READ-REFERENCE
Tool</h3>

<p class=MsoNormal style='margin-top:7.0pt'>The <tt><span style='font-size:
10.0pt;font-family:"Courier New"'>READ-REFERENCE</span></tt> tool produces a
reference to the object named by the single odin-expression in the input file.
For example, the derivation graph entry: </p>

<pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>READ-REFERENCE (:stub.name) =&gt; (:stub.ref) ;</pre><pre><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<p class=MsoNormal>declares that <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:stub.ref</span></tt> will be a reference to the object named by
the contents of a file of type <tt><span style='font-size:10.0pt;font-family:
"Courier New"'>:stub.name</span></tt>. </p>

<h1 style='margin-top:7.0pt'><a name="tth_chApC">Appendix C </a><br>
Derivation Graph Syntax</h1>

<pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>DerivationGraph -&gt; DGEntry ';' DerivationGraph</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>DGEntry<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; 'BANNER' &quot;Identifier&quot;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; 'INCLUDE' &quot;Identifier&quot;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; Pattern '=' '&gt;' ObjectType</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ObjectType Description '=' '&gt;' SuperType+</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ParameterType Description '=' '&gt;' ObjectType</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; Variable Description '=' &quot;Identifier&quot;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;</span>-&gt; Tool Arg+ Needs '=' '&gt;' Result+ ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Pattern<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; &quot;Identifier&quot; '*'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '*' &quot;Identifier&quot;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '*' ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>ObjectType<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ':' &quot;Identifier&quot; ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>ParameterType<span style="mso-spacerun: yes">&nbsp;&nbsp; </span>-&gt; '+' &quot;Identifier&quot; ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Description<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; &quot;Identifier&quot; '?'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-&gt; &quot;Identifier&quot; ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Tool<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; 'EXEC'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; 'COLLECT'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; 'READ-LIST'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; 'READ-REFERENCE' ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>SuperType<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '&lt;' ObjectType '&gt;'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ObjectType ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Needs<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; 'NEEDS' Arg+</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Result<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '(' ObjectType ')' ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Arg<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; Word</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; FileArg</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; FileArg '@'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; FileArg '&amp;' ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>FileArg<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '(' Root Operation* ')' ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Root<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; Word</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-&gt; ObjectType</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ParameterType</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '/'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '/' Word</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '%' Word ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Operation<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; Parameter</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ObjectType</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ObjectType '=' ObjectType</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>-&gt; '/' Word</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '/'</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '%' Word ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Parameter<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ParameterType</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; ParameterType '=' PrmVal+ ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>PrmVal<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; Word</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; FileArg ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Word<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; &quot;Identifier&quot;</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; Variable;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>Variable<span style="mso-spacerun: yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>-&gt; '$' &quot;Identifier&quot;;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre>

<h1 style='margin-top:7.0pt'><a name="tth_chApD">Appendix D </a><br>
Derivation Graph Example</h1>

<pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'># Source Types</pre><pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>*.c.sm =&gt; :c.sm ;</pre><pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>*.c =&gt; :c ;</pre><pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>*.o =&gt; :o ;</pre><pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'># Object Types</pre><pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:c.sm 'system model'? =&gt; :FILE ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:c 'C code'? =&gt; :FILE ;</pre><pre style='margin-top:
7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:o 'object module'? =&gt; :FILE ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:dir 'directory' =&gt; :REFERENCE ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:c_inc 'potential C-style included files' =&gt; :LIST ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:all_c_inc 'C-style transitively included files' =&gt; :LIST ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:c.list 'c source code list for tools wanting list input' =&gt; :c.sm.list ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:c.sm.list 'list' =&gt; :LIST ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:fmt 'formatted version of C code' =&gt; :PIPE ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>:exe 'executable binary'? =&gt; :FILE ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'># Parameter Types</pre><pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>+search_path 'name of a directory in an include search path'? =&gt; :ls ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>+ignore 'prefix of dependencies to ignore'? =&gt; :ls ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>+debug 'debug switch'? =&gt; :first ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>+prof 'profiling switch'? =&gt; :first ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>+gnu 'use gnu tools'? =&gt; :first ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>+cc_flags 'flags for cc'? =&gt; :cat ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>+ld_flags 'flags for ld'? =&gt; :cat ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'># Environment Variables</pre><pre style='margin-top:
7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>$CC 'name of C compiler' = 'gcc';</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>$CC_HOME 'directory containing C compiler tools' = '/usr/local/bin';</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'># Tools</pre><pre style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>READ-LIST (:c.sm)</pre><pre style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; (:c.sm.list) ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>EXEC (indent.sh) (:c)</pre><pre style='margin-top:
7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; (:fmt) ;</pre><pre
style='margin-top:7.0pt'> </pre><pre style='margin-top:7.0pt'>EXEC (c_inc.sh) (:FILE) (:FILE :dir)@ (+search_path) (+ignore)</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; (:c_inc) ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>COLLECT (:c_inc :map=:all_c_inc) (:c_inc)</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; (:all_c_inc) ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>EXEC (cc.sh) (:c) (:c :dir)@ (+search_path)</pre><pre
style='margin-top:7.0pt'> (+debug) (+prof) (+gnu) (+cc_flags) NEEDS (:all_c_inc)&amp; $CC $CC_HOME</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; (:o) ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>COLLECT (:c)</pre><pre style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; (:c.list) ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre><pre
style='margin-top:7.0pt'>EXEC (ld.sh) (:c.sm.list :map=:o) (+debug) (+gnu) (+prof) (+ld_flags)</pre><pre
style='margin-top:7.0pt'><span style="mso-spacerun: yes">&nbsp;&nbsp; </span>=&gt; (:exe) ;</pre><pre
style='margin-top:7.0pt'><![if !supportEmptyParas]>&nbsp;<![endif]><o:p></o:p></pre></div>

</body>

</html>
